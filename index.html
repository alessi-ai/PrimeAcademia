<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrimeAcademia - Plateforme d'Épreuves Académiques</title>
    <meta name="description" content="PrimeAcademia - Plateforme éducative offrant gratuitement des épreuves académiques organisées par filière et année. Outils de préparation et conseils pour la réussite étudiante.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        /* ===== VARIABLES DE COULEURS PROFESSIONNELLES ===== */
        :root {
            --primary: #4A6FA5;
            --secondary: #6B8E23;
            --accent: #D4A017;
            --accent2: #8B4513;
            --accent3: #5D7B93;
            --accent4: #8A2BE2;
            --light: #F5F7FA;
            --light2: #E8EEF4;
            --dark: #2C3E50;
            --dark2: #34495E;
            --success: #27AE60;
            --warning: #F39C12;
            --error: #E74C3C;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 15px 40px rgba(0, 0, 0, 0.12);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --radius: 12px;
            --radius-lg: 20px;
            --radius-sm: 8px;
        }

        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: var(--dark);
            background-color: var(--light);
            transition: var(--transition);
            overflow-x: hidden;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            width: 100%;
        }

        /* ===== ANIMATIONS ===== */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ===== AUTHENTICATION MODAL ===== */
        .auth-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .auth-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .auth-modal-content {
            background: white;
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: fadeInDown 0.5s ease-out;
            position: relative;
            border: 3px solid var(--primary);
            max-height: 90vh;
            overflow-y: auto;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .auth-header i {
            font-size: 3.5rem;
            color: var(--accent);
            margin-bottom: 1rem;
            display: inline-block;
        }

        .auth-header h2 {
            color: var(--dark);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .auth-header p {
            color: var(--dark2);
            font-size: 1rem;
            line-height: 1.6;
        }

        .close-auth-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light);
            border: none;
            color: var(--dark);
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .close-auth-modal:hover {
            background: var(--error);
            color: white;
            transform: rotate(90deg);
        }

        .auth-switch {
            text-align: center;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--light2);
        }

        .auth-switch a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .auth-switch a:hover {
            color: var(--accent2);
            text-decoration: underline;
        }

        /* ===== AUTH FORMS ===== */
        .auth-form {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.6rem;
            color: var(--dark);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--light2);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
            background: white;
            color: var(--dark);
            font-family: inherit;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.2);
            outline: none;
        }

        .form-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        .form-checkbox {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 1.5rem;
        }

        .form-checkbox input {
            margin-top: 5px;
            flex-shrink: 0;
        }

        .form-checkbox label {
            font-size: 0.9rem;
            color: var(--dark2);
            line-height: 1.5;
        }

        .form-checkbox a {
            color: var(--primary);
            text-decoration: none;
        }

        .form-checkbox a:hover {
            text-decoration: underline;
        }

        /* ===== REGISTRATION STEPS ===== */
        .registration-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            position: relative;
        }

        .registration-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--light2);
            z-index: 1;
        }

        .step {
            position: relative;
            z-index: 2;
            text-align: center;
            flex: 1;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light2);
            color: var(--dark2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: 600;
            transition: var(--transition);
        }

        .step.active .step-circle {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .step.completed .step-circle {
            background: var(--success);
            color: white;
        }

        .step-label {
            font-size: 0.85rem;
            color: var(--dark2);
            font-weight: 500;
        }

        .step.active .step-label {
            color: var(--primary);
            font-weight: 600;
        }

        /* ===== BUTTONS ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: var(--transition);
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 15px rgba(74, 111, 165, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(74, 111, 165, 0.4);
            background: linear-gradient(135deg, var(--primary), var(--accent3));
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-full {
            width: 100%;
            justify-content: center;
        }

        .btn-secondary {
            background: var(--secondary);
            box-shadow: 0 4px 15px rgba(107, 142, 35, 0.3);
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, var(--secondary), #8BC34A);
            box-shadow: 0 8px 25px rgba(107, 142, 35, 0.4);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            box-shadow: none;
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        /* ===== USER PROFILE ===== */
        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-left: 1rem;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent3));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .user-avatar:hover {
            transform: scale(1.1);
        }

        .user-name {
            color: var(--dark);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .user-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-hover);
            padding: 1rem 0;
            min-width: 200px;
            display: none;
            z-index: 1000;
            border: 1px solid var(--light2);
        }

        .user-menu.active {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        .user-menu-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0.8rem 1.5rem;
            color: var(--dark);
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-size: 0.95rem;
            font-family: inherit;
        }

        .user-menu-item:hover {
            background: var(--light);
            color: var(--primary);
        }

        .user-menu-item i {
            width: 20px;
            color: var(--accent3);
        }

        .user-menu-divider {
            height: 1px;
            background: var(--light2);
            margin: 0.5rem 0;
        }

        /* ===== ALERTS ===== */
        .alert {
            padding: 1.2rem;
            border-radius: var(--radius);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
            animation: fadeIn 0.6s ease-out;
        }

        .alert-success {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-error {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert-info {
            background: linear-gradient(135deg, #d1ecf1, #bee5eb);
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        /* ===== HEADER & MENU BURGER ===== */
        header {
            background: var(--light);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 3px solid var(--primary);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            position: relative;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition);
            z-index: 1001;
        }

        .logo:hover {
            color: var(--accent2);
            transform: translateX(5px);
        }

        .logo i {
            font-size: 1.8rem;
            color: var(--accent);
            animation: float 3s ease-in-out infinite;
        }

        /* Menu burger */
        .menu-toggle {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 21px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 1001;
        }

        .menu-toggle span {
            width: 100%;
            height: 3px;
            background: var(--primary);
            border-radius: 2px;
            transition: var(--transition);
            display: block;
        }

        .menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        /* Navigation principale */
        nav {
            display: flex;
            align-items: center;
            transition: var(--transition);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }

        nav a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            padding: 0.7rem 1.3rem;
            border-radius: 50px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            font-size: 1rem;
        }

        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(74, 111, 165, 0.1), transparent);
            transition: var(--transition);
        }

        nav a:hover::before {
            left: 100%;
        }

        nav a:hover, nav a.active {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(74, 111, 165, 0.3);
        }

        /* ===== MAIN CONTENT ===== */
        main {
            min-height: calc(100vh - 200px);
            padding: 2rem 0;
        }

        .page-section {
            display: none;
            animation: fadeIn 0.6s ease-out;
            width: 100%;
            overflow-x: hidden;
        }

        .page-section.active {
            display: block;
        }

        .page-title {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
            padding-bottom: 1.5rem;
            width: 100%;
        }

        .page-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 2px;
        }

        .page-title i {
            font-size: 3rem;
            margin-bottom: 1.2rem;
            color: var(--primary);
            display: inline-block;
            animation: float 4s ease-in-out infinite;
        }

        .page-title h1 {
            font-size: 2rem;
            color: var(--dark);
            margin-bottom: 0.5rem;
            font-weight: 700;
            line-height: 1.3;
            padding: 0 10px;
        }

        /* ===== INTRODUCTION ===== */
        .intro-collapsed, .intro-expanded {
            background: var(--light2);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-left: 5px solid var(--accent);
            width: 100%;
        }

        .intro-collapsed:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-left-color: var(--accent4);
        }

        .intro-collapsed-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 1rem;
        }

        .intro-collapsed-header h2 {
            display: flex;
            align-items: center;
            gap: 15px;
            color: var(--dark);
            font-size: 1.2rem;
            flex: 1;
        }

        .intro-collapsed-header h2 i {
            color: var(--accent);
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .intro-toggle {
            background: var(--primary);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            color: white;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .intro-toggle:hover {
            background: var(--accent2);
            transform: rotate(180deg);
        }

        .intro-expanded h2 {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid rgba(74, 111, 165, 0.1);
            font-size: 1.3rem;
        }

        .intro-expanded h2 i {
            color: var(--accent);
        }

        .intro-expanded h3 {
            color: var(--primary);
            margin: 1.5rem 0 1rem;
            padding-left: 1rem;
            border-left: 4px solid var(--secondary);
            font-size: 1.2rem;
        }

        .intro-expanded ul {
            margin: 1rem 0 1.5rem 1.5rem;
        }

        .intro-expanded li {
            margin-bottom: 0.8rem;
            position: relative;
            font-size: 1rem;
            line-height: 1.6;
        }

        .intro-expanded li::before {
            content: '✓';
            position: absolute;
            left: -1.5rem;
            color: var(--success);
            font-weight: bold;
        }

        /* ===== CONTROLS ===== */
        .controls {
            background: var(--light2);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(74, 111, 165, 0.1);
            width: 100%;
        }

        .search-box {
            position: relative;
            margin-bottom: 1.5rem;
            width: 100%;
        }

        .search-box i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent3);
            z-index: 1;
        }

        .search-box input {
            width: 100%;
            padding: 14px 20px 14px 50px;
            border: 2px solid var(--light2);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
            background: white;
            color: var(--dark);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .search-box input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.2);
            outline: none;
        }

        .filter-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
            width: 100%;
        }

        select {
            flex: 1;
            min-width: 180px;
            padding: 14px 20px;
            border: 2px solid var(--light2);
            border-radius: var(--radius);
            background: white;
            color: var(--dark);
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%234A6FA5' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 16px;
        }

        select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.2);
            outline: none;
        }

        /* ===== STATS ===== */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
            width: 100%;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: var(--radius-lg);
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-top: 5px solid var(--primary);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }

        .stat-card:nth-child(1) { border-top-color: var(--primary); }
        .stat-card:nth-child(2) { border-top-color: var(--secondary); }
        .stat-card:nth-child(3) { border-top-color: var(--accent); }

        .stat-card i {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }

        .stat-card:nth-child(1) i { color: var(--primary); }
        .stat-card:nth-child(2) i { color: var(--secondary); }
        .stat-card:nth-child(3) i { color: var(--accent); }

        .stat-card h3 {
            font-size: 2.2rem;
            color: var(--dark);
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        .stat-card p {
            color: var(--dark2);
            font-size: 1rem;
        }

        /* ===== FILES CONTAINER ===== */
        .files-container {
            background: var(--light2);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(74, 111, 165, 0.1);
            width: 100%;
            overflow-x: auto;
        }

        .loading, .error, .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            width: 100%;
        }

        .loading i, .error i, .empty-state i {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            display: inline-block;
        }

        .loading i {
            color: var(--primary);
            animation: pulse 1.5s ease-in-out infinite;
        }

        .error i {
            color: var(--error);
            animation: pulse 1.5s ease-in-out infinite;
        }

        .empty-state i {
            color: var(--accent3);
            animation: float 3s ease-in-out infinite;
        }

        .loading h2, .error h2, .empty-state h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark);
        }

        /* ===== FILES GRID ===== */
        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
            width: 100%;
        }

        .file-card {
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(74, 111, 165, 0.1);
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .file-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
            border-color: var(--accent);
        }

        .file-card.new-file::before {
            content: 'Nouveau';
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(135deg, var(--success), #2ECC71);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
            z-index: 2;
            animation: pulse 2s infinite;
            box-shadow: 0 3px 10px rgba(39, 174, 96, 0.3);
        }

        .file-header {
            background: linear-gradient(135deg, var(--primary), var(--accent3));
            padding: 1.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .file-header i {
            font-size: 2.5rem;
            color: white;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
            animation: float 3s ease-in-out infinite;
        }

        .file-content {
            padding: 1.5rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .file-content h3 {
            margin-bottom: 1rem;
            color: var(--dark);
            font-size: 1.1rem;
            line-height: 1.4;
            flex: 1;
        }

        .file-meta {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            margin-bottom: 1.2rem;
        }

        .file-meta span {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--dark2);
            font-size: 0.9rem;
        }

        .file-meta i {
            color: var(--accent);
            width: 16px;
        }

        .file-type {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(74, 111, 165, 0.1);
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--primary);
            margin-top: 0.5rem;
        }

        .file-date {
            font-size: 0.85rem;
            color: var(--dark2);
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .file-actions {
            margin-top: auto;
            padding-top: 1rem;
            border-top: 1px solid rgba(74, 111, 165, 0.1);
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .file-actions .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* ===== PAGINATION ===== */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 2rem;
            padding: 1rem;
            flex-wrap: wrap;
        }

        .pagination-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: var(--radius-sm);
            background: white;
            border: 2px solid var(--light2);
            color: var(--dark);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .pagination-btn:hover:not(.disabled) {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .pagination-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 15px rgba(74, 111, 165, 0.3);
        }

        .pagination-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-info {
            color: var(--dark2);
            font-size: 0.9rem;
            margin: 0 10px;
        }

        /* ===== ARTICLES ===== */
        .articles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            width: 100%;
        }

        .article-card {
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(74, 111, 165, 0.1);
            position: relative;
        }

        .article-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
            border-color: var(--accent);
        }

        .article-image {
            background: linear-gradient(135deg, var(--primary), var(--accent3));
            padding: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .article-image i {
            font-size: 2.5rem;
            color: white;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
            animation: float 3s ease-in-out infinite;
        }

        .article-content {
            padding: 1.5rem;
        }

        .article-content h3 {
            margin-bottom: 1rem;
            color: var(--dark);
            font-size: 1.2rem;
            line-height: 1.4;
        }

        .article-meta {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .article-meta span {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(74, 111, 165, 0.1);
            padding: 5px 12px;
            border-radius: 50px;
            font-size: 0.85rem;
            color: var(--primary);
            font-weight: 500;
        }

        .article-content p {
            margin-bottom: 1.5rem;
            color: var(--dark2);
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .read-more {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
            transition: var(--transition);
            padding: 8px 16px;
            border-radius: 50px;
            background: rgba(74, 111, 165, 0.1);
        }

        .read-more:hover {
            background: var(--primary);
            color: white;
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(74, 111, 165, 0.3);
        }

        /* ===== ARTICLE DETAIL ===== */
        .back-to-articles {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            text-decoration: none;
            margin-bottom: 1.5rem;
            font-weight: 600;
            padding: 10px 20px;
            border-radius: 50px;
            background: rgba(74, 111, 165, 0.1);
            transition: var(--transition);
            font-size: 0.95rem;
        }

        .back-to-articles:hover {
            background: var(--primary);
            color: white;
            transform: translateX(-5px);
        }

        .article-detail {
            background: white;
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(74, 111, 165, 0.1);
            width: 100%;
        }

        .article-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid rgba(74, 111, 165, 0.1);
        }

        .article-header h1 {
            font-size: 1.8rem;
            color: var(--dark);
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        .article-meta-large {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            color: var(--dark2);
            flex-wrap: wrap;
        }

        .article-meta-large span {
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .article-body h2 {
            color: var(--primary);
            margin: 2rem 0 1.2rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid rgba(74, 111, 165, 0.1);
            font-size: 1.5rem;
        }

        .article-body h3 {
            color: var(--secondary);
            margin: 1.5rem 0 0.8rem;
            font-size: 1.2rem;
        }

        .article-body p {
            margin-bottom: 1.2rem;
            line-height: 1.7;
            color: var(--dark2);
            font-size: 1rem;
        }

        .article-body ul {
            margin: 1.2rem 0;
            padding-left: 1.5rem;
        }

        .article-body li {
            margin-bottom: 0.8rem;
            position: relative;
            padding-left: 1.2rem;
            line-height: 1.6;
            font-size: 1rem;
        }

        .article-body li::before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--accent);
            font-size: 1.2rem;
        }

        .article-body blockquote {
            background: linear-gradient(135deg, var(--light), var(--light2));
            border-left: 5px solid var(--accent);
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-style: italic;
            border-radius: 0 var(--radius) var(--radius) 0;
            color: var(--dark);
            font-size: 1rem;
            line-height: 1.6;
        }

        .article-body .highlight-box {
            background: linear-gradient(135deg, var(--primary), var(--accent3));
            color: white;
            padding: 1.5rem;
            border-radius: var(--radius-lg);
            margin: 2rem 0;
            text-align: center;
            box-shadow: 0 10px 30px rgba(74, 111, 165, 0.3);
        }

        .article-body .highlight-box h3 {
            color: white;
            margin: 0 0 1rem 0;
            font-size: 1.2rem;
        }

        /* ===== ABOUT PAGE ===== */
        .about-content, .contact-content, .privacy-content, .legal-content {
            background: white;
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(74, 111, 165, 0.1);
            width: 100%;
        }

        .about-section {
            margin-bottom: 2.5rem;
        }

        .about-section h2 {
            color: var(--primary);
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
        }

        .about-section h2 i {
            color: var(--accent);
            font-size: 1.8rem;
        }

        .about-section p {
            margin-bottom: 1.2rem;
            line-height: 1.7;
            color: var(--dark2);
            font-size: 1rem;
        }

        .about-section ul {
            margin: 1.2rem 0 1.5rem 1.5rem;
        }

        .about-section li {
            margin-bottom: 0.8rem;
            position: relative;
            padding-left: 1.2rem;
            line-height: 1.6;
            font-size: 1rem;
        }

        .about-section li::before {
            content: '→';
            position: absolute;
            left: 0;
            color: var(--accent);
            font-weight: bold;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .feature-card {
            background: var(--light);
            padding: 1.5rem;
            border-radius: var(--radius-lg);
            text-align: center;
            transition: var(--transition);
            border: 1px solid rgba(74, 111, 165, 0.1);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            background: white;
            box-shadow: var(--shadow-hover);
            border-color: var(--accent);
        }

        .feature-card h3 {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 1rem;
            color: var(--primary);
            font-size: 1.1rem;
        }

        .feature-card h3 i {
            color: var(--accent);
        }

        /* ===== LIBRAIRIE ===== */
        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            width: 100%;
        }

        .book-card {
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(74, 111, 165, 0.1);
            position: relative;
        }

        .book-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: var(--shadow-hover);
            border-color: var(--secondary);
        }

        .book-image {
            height: 180px;
            overflow: hidden;
            position: relative;
        }

        .book-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .book-card:hover .book-image img {
            transform: scale(1.1);
        }

        .book-content {
            padding: 1.5rem;
        }

        .book-content h3 {
            margin-bottom: 1rem;
            color: var(--dark);
            font-size: 1.1rem;
            line-height: 1.4;
        }

        .book-meta {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
            margin-bottom: 1.2rem;
        }

        .book-meta span {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--dark2);
            font-size: 0.9rem;
        }

        .book-price {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 1.2rem 0;
            color: var(--primary);
        }

        .book-actions {
            margin-top: 1.2rem;
        }

        /* ===== CONTACT PAGE ===== */
        .contact-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2.5rem;
            width: 100%;
        }

        .contact-info h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .contact-item {
            display: flex;
            gap: 1.2rem;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background: var(--light);
            border-radius: var(--radius-lg);
            transition: var(--transition);
            border: 1px solid rgba(74, 111, 165, 0.1);
        }

        .contact-item:hover {
            transform: translateX(10px);
            background: white;
            box-shadow: var(--shadow-hover);
            border-color: var(--accent);
        }

        .contact-icon {
            font-size: 1.8rem;
            color: var(--accent);
            min-width: 40px;
        }

        .contact-item h3 {
            margin-bottom: 0.8rem;
            color: var(--dark);
            font-size: 1.1rem;
        }

        .contact-form h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.6rem;
            color: var(--dark);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--light2);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
            background: white;
            color: var(--dark);
            font-family: inherit;
        }

        .form-group input:focus, .form-group textarea:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.2);
            outline: none;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* ===== FOOTER ===== */
        footer {
            background: linear-gradient(135deg, var(--dark), #1A2530);
            color: white;
            padding: 3rem 0 1.5rem;
            margin-top: 3rem;
            width: 100%;
            overflow: hidden;
        }

        .footer-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section {
            min-width: 0;
            overflow: hidden;
        }

        .footer-section h3 {
            margin-bottom: 1.5rem;
            color: var(--accent);
            font-size: 1.2rem;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-section h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background: var(--accent);
        }

        .footer-section a, .footer-section p {
            display: block;
            color: rgba(255, 255, 255, 0.85);
            text-decoration: none;
            margin-bottom: 0.8rem;
            transition: var(--transition);
            padding: 6px 0;
            font-size: 0.95rem;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .footer-section a:hover {
            color: var(--accent);
            transform: translateX(8px);
        }

        .legal-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .legal-links a {
            color: rgba(255, 255, 255, 0.85);
            text-decoration: none;
            transition: var(--transition);
            padding: 8px 16px;
            border-radius: 50px;
            background: rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
        }

        .legal-links a:hover {
            color: white;
            background: rgba(212, 160, 23, 0.3);
            transform: translateY(-3px);
        }

        .copyright {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            width: 100%;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 1024px) {
            .page-title h1 {
                font-size: 1.8rem;
            }
            
            .footer-links {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .files-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }
            
            /* Menu burger */
            .menu-toggle {
                display: flex;
            }
            
            nav {
                position: fixed;
                top: 0;
                left: -100%;
                width: 80%;
                max-width: 300px;
                height: 100vh;
                background: var(--light);
                padding: 5rem 2rem 2rem;
                transition: var(--transition);
                box-shadow: 10px 0 30px rgba(0, 0, 0, 0.1);
                z-index: 1000;
                overflow-y: auto;
            }
            
            nav.active {
                left: 0;
            }
            
            nav ul {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav a {
                padding: 1rem;
                border-radius: var(--radius);
                font-size: 1.1rem;
                display: block;
                width: 100%;
                text-align: left;
            }
            
            .header-content {
                padding: 0.8rem 0;
            }
            
            .logo {
                font-size: 1.2rem;
            }
            
            .logo i {
                font-size: 1.5rem;
            }
            
            .page-title h1 {
                font-size: 1.6rem;
                padding: 0;
            }
            
            .page-title i {
                font-size: 2.5rem;
            }
            
            .intro-collapsed-header h2 {
                font-size: 1.1rem;
            }
            
            .filter-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            select {
                min-width: 100%;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
            
            .files-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .article-detail {
                padding: 1.5rem;
            }
            
            .article-header h1 {
                font-size: 1.6rem;
            }
            
            .article-meta-large {
                flex-direction: column;
                gap: 0.8rem;
                align-items: center;
            }
            
            .contact-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .footer-links {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .legal-links {
                flex-direction: column;
                align-items: center;
                gap: 0.8rem;
                text-align: center;
            }
            
            .copyright {
                font-size: 0.85rem;
                text-align: center;
            }
            
            .files-container {
                padding: 1rem;
            }
            
            .auth-modal-content {
                padding: 1.5rem;
            }
            
            .form-row {
                flex-direction: column;
                gap: 1rem;
            }
            
            .user-profile {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 12px;
            }
            
            .logo {
                font-size: 1.1rem;
            }
            
            .logo i {
                font-size: 1.3rem;
            }
            
            .page-title h1 {
                font-size: 1.4rem;
            }
            
            .page-title i {
                font-size: 2rem;
            }
            
            .intro-collapsed, .intro-expanded,
            .controls, .files-container,
            .about-content, .contact-content,
            .privacy-content, .legal-content {
                padding: 1.2rem;
                border-radius: 16px;
            }
            
            .stat-card {
                padding: 1.2rem;
            }
            
            .stat-card h3 {
                font-size: 1.8rem;
            }
            
            .stat-card i {
                font-size: 2rem;
            }
            
            .files-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .file-card {
                margin-bottom: 0.5rem;
            }
            
            .file-header {
                padding: 1.2rem;
            }
            
            .file-content {
                padding: 1.2rem;
            }
            
            .file-content h3 {
                font-size: 1rem;
            }
            
            .article-card {
                margin-bottom: 1rem;
            }
            
            .article-image {
                padding: 1.5rem;
            }
            
            .article-content {
                padding: 1.2rem;
            }
            
            .article-content h3 {
                font-size: 1.1rem;
            }
            
            .article-meta {
                gap: 0.5rem;
            }
            
            .article-meta span {
                padding: 4px 10px;
                font-size: 0.8rem;
            }
            
            .contact-item {
                padding: 1.2rem;
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .contact-icon {
                font-size: 1.5rem;
                align-self: center;
            }
            
            .form-group input, .form-group textarea {
                padding: 12px 14px;
                font-size: 0.95rem;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            
            .read-more, .back-to-articles {
                padding: 8px 14px;
                font-size: 0.9rem;
            }
            
            .legal-links a {
                padding: 6px 12px;
                font-size: 0.85rem;
            }
            
            footer {
                padding: 2rem 0 1rem;
            }
            
            .footer-section h3 {
                font-size: 1.1rem;
            }
            
            .footer-section a, .footer-section p {
                font-size: 0.9rem;
            }
            
            .auth-modal-content {
                padding: 1.2rem;
            }
            
            .auth-header h2 {
                font-size: 1.4rem;
            }
            
            .registration-steps {
                margin-bottom: 1.5rem;
            }
            
            .step-circle {
                width: 35px;
                height: 35px;
                font-size: 0.9rem;
            }
            
            .step-label {
                font-size: 0.75rem;
            }
        }

        /* ===== OVERLAY POUR MENU BURGER ===== */
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* ===== TOAST NOTIFICATION ===== */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: var(--radius);
            box-shadow: var(--shadow-hover);
            z-index: 10001;
            animation: slideIn 0.3s ease-out;
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 350px;
        }

        .toast.hidden {
            animation: fadeIn 0.3s ease-out reverse;
            opacity: 0;
            visibility: hidden;
        }

        .toast-error {
            background: var(--error);
        }

        .toast-info {
            background: var(--primary);
        }

        /* ===== SCROLLBAR CUSTOM ===== */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--light);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--accent2), var(--accent));
        }
    </style>
</head>
<body>
    <!-- Modal d'authentification -->
    <div class="auth-modal" id="authModal">
        <div class="auth-modal-content">
            <button class="close-auth-modal" id="closeAuthModal">
                <i class="fas fa-times"></i>
            </button>
            
            <!-- ÉTAPE 1: Informations de base -->
            <div class="auth-form active" id="register-step-1">
                <div class="auth-header">
                    <i class="fas fa-user-plus"></i>
                    <h2>Créer un compte</h2>
                    <p>Étape 1/4 - Informations personnelles</p>
                </div>
                
                <div class="registration-steps">
                    <div class="step active" data-step="1">
                        <div class="step-circle">1</div>
                        <div class="step-label">Infos perso</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-circle">2</div>
                        <div class="step-label">Études</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-circle">3</div>
                        <div class="step-label">Sécurité</div>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-circle">4</div>
                        <div class="step-label">Finalisation</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="register-nom">Nom *</label>
                    <input type="text" id="register-nom" required>
                </div>
                
                <div class="form-group">
                    <label for="register-prenom">Prénom *</label>
                    <input type="text" id="register-prenom" required>
                </div>
                
                <div class="form-group">
                    <label for="register-email">Adresse email *</label>
                    <input type="email" id="register-email" required>
                </div>
                
                <div class="form-group">
                    <label for="register-phone">Numéro de téléphone *</label>
                    <input type="tel" id="register-phone" required>
                </div>
                
                <div class="form-group">
                    <label for="register-birthdate">Date de naissance</label>
                    <input type="date" id="register-birthdate">
                </div>
                
                <div class="form-group">
                    <label for="register-gender">Genre</label>
                    <select id="register-gender">
                        <option value="">Sélectionner</option>
                        <option value="male">Masculin</option>
                        <option value="female">Féminin</option>
                        <option value="other">Autre</option>
                    </select>
                </div>
                
                <button class="btn btn-full" id="next-step-1">
                    Suivant <i class="fas fa-arrow-right"></i>
                </button>
                
                <div class="auth-switch">
                    <p>Déjà inscrit ? <a href="#" id="switch-to-login">Se connecter</a></p>
                </div>
            </div>
            
            <!-- ÉTAPE 2: Informations académiques -->
            <div class="auth-form" id="register-step-2">
                <div class="auth-header">
                    <i class="fas fa-graduation-cap"></i>
                    <h2>Informations académiques</h2>
                    <p>Étape 2/4 - Votre parcours étudiant</p>
                </div>
                
                <div class="registration-steps">
                    <div class="step completed" data-step="1">
                        <div class="step-circle"><i class="fas fa-check"></i></div>
                        <div class="step-label">Infos perso</div>
                    </div>
                    <div class="step active" data-step="2">
                        <div class="step-circle">2</div>
                        <div class="step-label">Études</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-circle">3</div>
                        <div class="step-label">Sécurité</div>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-circle">4</div>
                        <div class="step-label">Finalisation</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="register-filiere">Filière d'études *</label>
                    <select id="register-filiere" required>
                        <option value="">Sélectionner une filière</option>
                        <option value="informatique">Informatique</option>
                        <option value="gestion">Gestion</option>
                        <option value="college">Collège (Secondaire)</option>
                        <option value="autre">Autre</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="register-niveau">Niveau d'études *</label>
                    <select id="register-niveau" required>
                        <option value="">Sélectionner un niveau</option>
                        <optgroup label="Université">
                            <option value="annee1">Année 1 (Licence 1)</option>
                            <option value="annee2">Année 2 (Licence 2)</option>
                            <option value="annee3">Année 3 (Licence 3)</option>
                            <option value="master1">Master 1</option>
                            <option value="master2">Master 2</option>
                        </optgroup>
                        <optgroup label="Collège/Lycée">
                            <option value="sixieme">6ème</option>
                            <option value="cinquieme">5ème</option>
                            <option value="quatrieme">4ème</option>
                            <option value="troisieme">3ème</option>
                            <option value="seconde">Seconde</option>
                            <option value="premiere">Première</option>
                            <option value="terminale">Terminale</option>
                        </optgroup>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="register-etablissement">Établissement/Université</label>
                    <input type="text" id="register-etablissement" placeholder="Ex: Université de ...">
                </div>
                
                <div class="form-group">
                    <label for="register-ville">Ville d'études</label>
                    <input type="text" id="register-ville" placeholder="Ex: Cotonou, Lomé, etc.">
                </div>
                
                <div class="form-group">
                    <label for="register-objectif">Objectif académique</label>
                    <select id="register-objectif">
                        <option value="">Sélectionner un objectif</option>
                        <option value="examen">Préparer un examen</option>
                        <option value="concours">Préparer un concours</option>
                        <option value="renforcement">Renforcement des connaissances</option>
                        <option value="autre">Autre</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="register-matieres">Matières principales (séparées par des virgules)</label>
                    <input type="text" id="register-matieres" placeholder="Ex: Mathématiques, Physique, Chimie">
                </div>
                
                <div class="form-row">
                    <button class="btn btn-outline btn-full" id="prev-step-2">
                        <i class="fas fa-arrow-left"></i> Précédent
                    </button>
                    <button class="btn btn-full" id="next-step-2">
                        Suivant <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- ÉTAPE 3: Sécurité -->
            <div class="auth-form" id="register-step-3">
                <div class="auth-header">
                    <i class="fas fa-shield-alt"></i>
                    <h2>Sécurité du compte</h2>
                    <p>Étape 3/4 - Créer votre mot de passe</p>
                </div>
                
                <div class="registration-steps">
                    <div class="step completed" data-step="1">
                        <div class="step-circle"><i class="fas fa-check"></i></div>
                        <div class="step-label">Infos perso</div>
                    </div>
                    <div class="step completed" data-step="2">
                        <div class="step-circle"><i class="fas fa-check"></i></div>
                        <div class="step-label">Études</div>
                    </div>
                    <div class="step active" data-step="3">
                        <div class="step-circle">3</div>
                        <div class="step-label">Sécurité</div>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-circle">4</div>
                        <div class="step-label">Finalisation</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="register-password">Mot de passe *</label>
                    <input type="password" id="register-password" required minlength="8">
                    <small style="color: var(--dark2); font-size: 0.85rem; display: block; margin-top: 5px;">
                        Minimum 8 caractères avec majuscule, minuscule et chiffre
                    </small>
                </div>
                
                <div class="form-group">
                    <label for="register-confirm-password">Confirmer le mot de passe *</label>
                    <input type="password" id="register-confirm-password" required>
                </div>
                
                <div class="form-checkbox">
                    <input type="checkbox" id="register-newsletter" checked>
                    <label for="register-newsletter">
                        Je souhaite recevoir les nouveautés, conseils et offres spéciales par email
                    </label>
                </div>
                
                <div class="form-checkbox">
                    <input type="checkbox" id="register-terms" required>
                    <label for="register-terms">
                        J'accepte les <a href="#" id="terms-link">conditions d'utilisation</a> et la 
                        <a href="#" id="privacy-link">politique de confidentialité</a> *
                    </label>
                </div>
                
                <div class="form-row">
                    <button class="btn btn-outline btn-full" id="prev-step-3">
                        <i class="fas fa-arrow-left"></i> Précédent
                    </button>
                    <button class="btn btn-full" id="next-step-3">
                        Suivant <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- ÉTAPE 4: Finalisation -->
            <div class="auth-form" id="register-step-4">
                <div class="auth-header">
                    <i class="fas fa-check-circle"></i>
                    <h2>Finalisation</h2>
                    <p>Étape 4/4 - Vérification des informations</p>
                </div>
                
                <div class="registration-steps">
                    <div class="step completed" data-step="1">
                        <div class="step-circle"><i class="fas fa-check"></i></div>
                        <div class="step-label">Infos perso</div>
                    </div>
                    <div class="step completed" data-step="2">
                        <div class="step-circle"><i class="fas fa-check"></i></div>
                        <div class="step-label">Études</div>
                    </div>
                    <div class="step completed" data-step="3">
                        <div class="step-circle"><i class="fas fa-check"></i></div>
                        <div class="step-label">Sécurité</div>
                    </div>
                    <div class="step active" data-step="4">
                        <div class="step-circle">4</div>
                        <div class="step-label">Finalisation</div>
                    </div>
                </div>
                
                <div id="registration-summary" style="background: var(--light); padding: 1.5rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                    <h3 style="color: var(--primary); margin-bottom: 1rem; font-size: 1.1rem;">Récapitulatif</h3>
                    <div id="summary-content" style="font-size: 0.9rem; color: var(--dark2);">
                        <!-- Les informations seront affichées ici -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="register-invite-code">Code d'invitation (optionnel)</label>
                    <input type="text" id="register-invite-code" placeholder="Entrez un code d'un ami">
                    <small style="color: var(--dark2); font-size: 0.85rem; display: block; margin-top: 5px;">
                        Obtenez des avantages avec un code d'invitation
                    </small>
                </div>
                
                <div class="form-checkbox">
                    <input type="checkbox" id="register-confirm" required>
                    <label for="register-confirm">
                        Je certifie que toutes les informations fournies sont exactes et complètes
                    </label>
                </div>
                
                <div class="form-row">
                    <button class="btn btn-outline btn-full" id="prev-step-4">
                        <i class="fas fa-arrow-left"></i> Précédent
                    </button>
                    <button class="btn btn-full" id="complete-registration" disabled>
                        <i class="fas fa-user-plus"></i> Créer mon compte
                    </button>
                </div>
            </div>
            
            <!-- FORMULAIRE DE CONNEXION -->
            <div class="auth-form" id="login-form">
                <div class="auth-header">
                    <i class="fas fa-sign-in-alt"></i>
                    <h2>Connexion</h2>
                    <p>Accédez à votre compte PrimeAcademia</p>
                </div>
                
                <div class="form-group">
                    <label for="login-email">Adresse email</label>
                    <input type="email" id="login-email" required>
                </div>
                
                <div class="form-group">
                    <label for="login-password">Mot de passe</label>
                    <input type="password" id="login-password" required>
                </div>
                
                <div class="form-checkbox">
                    <input type="checkbox" id="remember-me">
                    <label for="remember-me">Se souvenir de moi</label>
                </div>
                
                <button class="btn btn-full" id="login-button">
                    <i class="fas fa-sign-in-alt"></i> Se connecter
                </button>
                
                <div style="text-align: center; margin: 1rem 0;">
                    <a href="#" id="forgot-password">Mot de passe oublié ?</a>
                </div>
                
                <div class="auth-switch">
                    <p>Pas encore de compte ? <a href="#" id="switch-to-register">S'inscrire</a></p>
                </div>
            </div>
            
            <!-- MOT DE PASSE OUBLIÉ -->
            <div class="auth-form" id="forgot-password-form">
                <div class="auth-header">
                    <i class="fas fa-key"></i>
                    <h2>Réinitialisation du mot de passe</h2>
                    <p>Entrez votre email pour recevoir un lien de réinitialisation</p>
                </div>
                
                <div class="form-group">
                    <label for="reset-email">Adresse email</label>
                    <input type="email" id="reset-email" required>
                </div>
                
                <button class="btn btn-full" id="reset-password-button">
                    <i class="fas fa-paper-plane"></i> Envoyer le lien
                </button>
                
                <div class="auth-switch">
                    <p><a href="#" id="back-to-login">Retour à la connexion</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Menu utilisateur -->
    <div class="user-menu" id="userMenu">
        <div class="user-menu-item" id="view-profile">
            <i class="fas fa-user"></i>
            <span>Mon profil</span>
        </div>
        <div class="user-menu-item" id="my-downloads">
            <i class="fas fa-download"></i>
            <span>Mes téléchargements</span>
        </div>
        <div class="user-menu-divider"></div>
        <div class="user-menu-item" id="logout-button">
            <i class="fas fa-sign-out-alt"></i>
            <span>Déconnexion</span>
        </div>
    </div>

    <!-- Overlay pour menu burger -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo" data-page="home">
                    <i class="fas fa-book-open"></i>
                    <span>PrimeAcademia</span>
                </a>
                
                <!-- Menu burger -->
                <button class="menu-toggle" id="menuToggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <nav id="mainNav">
                    <ul id="nav-menu">
                        <li><a href="#" class="nav-link active" data-page="home">Accueil</a></li>
                        <li><a href="#" class="nav-link" data-page="articles">Articles</a></li>
                        <li><a href="#" class="nav-link" data-page="librairie">Librairie</a></li>
                        <li><a href="#" class="nav-link" data-page="about">À propos</a></li>
                        <li><a href="#" class="nav-link" data-page="contact">Contact</a></li>
                    </ul>
                    
                    <!-- Boutons d'authentification (affichés quand non connecté) -->
                    <div id="auth-buttons" style="margin-left: 1rem;">
                        <button class="btn btn-secondary" id="login-button-header">
                            <i class="fas fa-sign-in-alt"></i> Connexion
                        </button>
                        <button class="btn btn-primary" id="register-button-header">
                            <i class="fas fa-user-plus"></i> Inscription
                        </button>
                    </div>
                    
                    <!-- Profil utilisateur (affiché quand connecté) -->
                    <div id="user-profile" class="user-profile" style="display: none;">
                        <div class="user-avatar" id="user-avatar">
                            U
                        </div>
                        <div class="user-name" id="user-name">
                            Utilisateur
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Page d'accueil -->
        <div class="page-section active" id="home-page">
            <div class="page-title">
                <i class="fas fa-folder-open"></i>
                <h1>Épreuves Académiques - Votre Ressource Pédagogique</h1>
            </div>

            <!-- Message de bienvenue pour utilisateurs non connectés -->
            <div id="welcome-message" class="alert alert-info" style="display: none;">
                <i class="fas fa-info-circle"></i>
                <div>
                    <strong>Bienvenue sur PrimeAcademia !</strong>
                    <p>Pour accéder aux épreuves académiques et télécharger des fichiers, veuillez vous connecter ou créer un compte gratuit.</p>
                </div>
            </div>

            <!-- Section Introduction - Version Réduite -->
            <div class="intro-collapsed" id="intro-collapsed">
                <div class="intro-collapsed-header">
                    <div>
                        <h2><i class="fas fa-graduation-cap"></i> Bienvenue sur PrimeAcademia</h2>
                        <p>Cliquez pour découvrir notre plateforme et ses ressources pédagogiques</p>
                    </div>
                    <button class="intro-toggle" id="intro-toggle">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
            </div>

            <!-- Section Introduction - Version Étendue -->
            <div class="intro-expanded" id="intro-expanded" style="display: none;">
                <h2>
                    <span><i class="fas fa-graduation-cap"></i> Bienvenue sur PrimeAcademia</span>
                    <button class="intro-toggle" id="intro-close">
                        <i class="fas fa-times"></i>
                    </button>
                </h2>
                <p>PrimeAcademia est la plateforme de référence pour l'accès aux ressources pédagogiques et épreuves académiques. Notre mission est de démocratiser l'accès à l'éducation en mettant à disposition des étudiants une collection organisée d'épreuves académiques passées.</p>
                
                <h3>Accès aux ressources</h3>
                <p>Pour télécharger les épreuves académiques, vous devez créer un compte gratuit. Cette procédure nous permet de :</p>
                <ul>
                    <li>Personnaliser votre expérience selon votre filière et niveau d'études</li>
                    <li>Suivre vos téléchargements et vos progrès</li>
                    <li>Vous envoyer des recommandations personnalisées</li>
                    <li>Assurer la sécurité et l'intégrité de notre plateforme</li>
                </ul>
                
                <h3>Notre Vision Pédagogique</h3>
                <p>PrimeAcademia a été créé dans le but de briser les barrières à l'accès à l'éducation. Nous comprenons que la préparation aux examens est une étape cruciale dans le parcours académique, et l'accès aux anciennes épreuves représente un avantage significatif pour les étudiants.</p>
                
                <h3>Comment Utiliser Notre Plateforme</h3>
                <p>Notre système de filtres vous permet de naviguer facilement parmi les ressources disponibles :</p>
                <ul>
                    <li><strong>Filières disponibles</strong> : Informatique, Gestion, Collège et bientôt d'autres domaines</li>
                    <li><strong>Années académiques</strong> : Année 1, Année 2, Année 3 pour l'université - 6ème à Terminale pour le collège</li>
                    <li><strong>Semestres</strong> : Semestre 1 et Semestre 2 pour chaque année universitaire</li>
                    <li><strong>Recherche textuelle</strong> : Trouvez rapidement un document spécifique</li>
                    <li><strong>Affichage personnalisable</strong> : Tableau ou cartes selon vos préférences</li>
                </ul>
                
                <h3>Mise à Jour Automatique</h3>
                <p>Notre plateforme se synchronise automatiquement avec Google Drive, garantissant que les nouveaux fichiers ajoutés apparaissent instantanément. Le système vérifie les mises à jour toutes les 24 heures, assurant ainsi que vous ayez toujours accès aux ressources les plus récentes.</p>
                
                <h3>L'Importance des Anciennes Épreuves</h3>
                <p>Les épreuves des années précédentes constituent un outil d'apprentissage inestimable. Elles permettent aux étudiants de :</p>
                <ul>
                    <li>Se familiariser avec le format des questions</li>
                    <li>Identifier les thèmes récurrents et les points importants</li>
                    <li>Pratiquer la gestion du temps pendant l'examen</li>
                    <li>Évaluer leur niveau de préparation</li>
                    <li>Renforcer leur confiance avant les évaluations</li>
                </ul>
                
                <h3>Ce Qui Nous Différencie</h3>
                <p>Contrairement à d'autres plateformes, PrimeAcademia offre :</p>
                <ul>
                    <li>Accès 100% gratuit sans limitations</li>
                    <li>Interface intuitive et responsive</li>
                    <li>Organisation méthodique par filière, année et semestre</li>
                    <li>Mise à jour automatique des contenus</li>
                    <li>Respect total de la vie privée</li>
                    <li>Support technique réactif</li>
                </ul>
                
                <p>Nous nous engageons à maintenir cette plateforme comme une ressource fiable et constamment améliorée pour la communauté étudiante.</p>
            </div>

            <div class="controls">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="Rechercher un fichier..." disabled>
                    <small style="color: var(--dark2); font-size: 0.85rem; display: block; margin-top: 5px;">
                        Connectez-vous pour activer la recherche
                    </small>
                </div>
                <div class="filter-group">
                    <select id="filiere-filter" disabled>
                        <option value="">Toutes les filières</option>
                        <option value="informatique">Informatique</option>
                        <option value="gestion">Gestion</option>
                        <option value="college">Collège</option>
                    </select>
                    <select id="year-filter" disabled>
                        <option value="">Toutes les années</option>
                        <option value="annee1">Année 1</option>
                        <option value="annee2">Année 2</option>
                        <option value="annee3">Année 3</option>
                        <option value="sixieme">6ème</option>
                        <option value="cinquieme">5ème</option>
                        <option value="quatrieme">4ème</option>
                        <option value="troisieme">3ème</option>
                        <option value="seconde">Seconde</option>
                        <option value="premiere">Première</option>
                        <option value="terminale">Terminale</option>
                    </select>
                    <select id="semestre-filter" disabled>
                        <option value="">Tous les semestres</option>
                        <option value="semestre1">Semestre 1</option>
                        <option value="semestre2">Semestre 2</option>
                    </select>
                </div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <i class="fas fa-file-alt"></i>
                    <h3 id="total-files">0</h3>
                    <p>Fichiers disponibles</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-graduation-cap"></i>
                    <h3 id="total-filieres">0</h3>
                    <p>Filières</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-user-graduate"></i>
                    <h3 id="total-users">0</h3>
                    <p>Étudiants inscrits</p>
                </div>
            </div>

            <div class="files-container">
                <div id="login-required" class="empty-state" style="display: block;">
                    <i class="fas fa-lock"></i>
                    <h2>Accès réservé aux membres</h2>
                    <p>Connectez-vous ou créez un compte gratuit pour accéder aux épreuves académiques.</p>
                    <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem; flex-wrap: wrap;">
                        <button class="btn btn-primary" id="login-button-main">
                            <i class="fas fa-sign-in-alt"></i> Se connecter
                        </button>
                        <button class="btn btn-secondary" id="register-button-main">
                            <i class="fas fa-user-plus"></i> Créer un compte
                        </button>
                    </div>
                </div>

                <div id="loading" class="loading" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i>
                    <h2>Chargement des fichiers...</h2>
                    <p>Connexion à Google Drive en cours</p>
                </div>

                <div id="error" class="error" style="display: none;">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h2>Erreur de chargement</h2>
                    <p>Impossible de récupérer les fichiers depuis Google Drive.</p>
                    <button id="retry-btn" class="btn btn-primary" style="margin-top: 15px;">
                        <i class="fas fa-redo"></i> Réessayer
                    </button>
                </div>

                <div id="empty-state" class="empty-state" style="display: none;">
                    <i class="fas fa-folder-open"></i>
                    <h2>Aucun fichier disponible</h2>
                    <p>Les fichiers apparaîtront ici une fois ajoutés à Google Drive.</p>
                </div>

                <div id="files-content" style="display: none;">
                    <!-- Grille de fichiers -->
                    <div class="files-grid" id="files-grid">
                        <!-- Les fichiers seront ajoutés ici dynamiquement -->
                    </div>
                    
                    <!-- Pagination -->
                    <div class="pagination" id="pagination" style="display: none;">
                        <button class="pagination-btn" id="first-page" disabled>
                            <i class="fas fa-angle-double-left"></i>
                        </button>
                        <button class="pagination-btn" id="prev-page" disabled>
                            <i class="fas fa-angle-left"></i>
                        </button>
                        <span class="pagination-info" id="page-info">Page 1 sur 1</span>
                        <button class="pagination-btn" id="next-page" disabled>
                            <i class="fas fa-angle-right"></i>
                        </button>
                        <button class="pagination-btn" id="last-page" disabled>
                            <i class="fas fa-angle-double-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page Articles -->
        <div class="page-section" id="articles-page">
            <div class="page-title">
                <i class="fas fa-newspaper"></i>
                <h1>Articles et Conseils Pédagogiques</h1>
            </div>

            <div class="articles-grid">
                <div class="article-card">
                    <div class="article-image">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <div class="article-content">
                        <h3>Comment bien se préparer aux examens</h3>
                        <div class="article-meta">
                            <span><i class="fas fa-calendar"></i> 15 Mars 2025</span>
                            <span><i class="fas fa-clock"></i> 12 min de lecture</span>
                        </div>
                        <p>Découvrez les meilleures stratégies pour optimiser votre temps de révision et maximiser vos chances de réussite aux examens. Un guide complet pour les étudiants.</p>
                        <a href="#" class="read-more" data-article="article1">
                            Lire la suite <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <div class="article-card">
                    <div class="article-image">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="article-content">
                        <h3>Organiser son espace de travail</h3>
                        <div class="article-meta">
                            <span><i class="fas fa-calendar"></i> 10 Mars 2025</span>
                            <span><i class="fas fa-clock"></i> 8 min de lecture</span>
                        </div>
                        <p>Un environnement de travail bien organisé peut considérablement améliorer votre concentration et votre productivité. Conseils pratiques pour optimiser votre espace.</p>
                        <a href="#" class="read-more" data-article="article2">
                            Lire la suite <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <div class="article-card">
                    <div class="article-image">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="article-content">
                        <h3>Techniques de mémorisation efficaces</h3>
                        <div class="article-meta">
                            <span><i class="fas fa-calendar"></i> 5 Mars 2025</span>
                            <span><i class="fas fa-clock"></i> 15 min de lecture</span>
                        </div>
                        <p>Apprenez des méthodes éprouvées pour mémoriser plus facilement vos cours et retenir l'information sur le long terme. Des techniques validées par les neurosciences.</p>
                        <a href="#" class="read-more" data-article="article3">
                            Lire la suite <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <div class="article-card">
                    <div class="article-image">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="article-content">
                        <h3>Gestion du temps et productivité</h3>
                        <div class="article-meta">
                            <span><i class="fas fa-calendar"></i> 28 Février 2025</span>
                            <span><i class="fas fa-clock"></i> 10 min de lecture</span>
                        </div>
                        <p>Maîtriser son temps est essentiel pour réussir ses études. Découvrez comment optimiser votre emploi du temps et booster votre productivité.</p>
                        <a href="#" class="read-more" data-article="article4">
                            Lire la suite <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <div class="article-card">
                    <div class="article-image">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <div class="article-content">
                        <h3>Alimentation et performance cognitive</h3>
                        <div class="article-meta">
                            <span><i class="fas fa-calendar"></i> 22 Février 2025</span>
                            <span><i class="fas fa-clock"></i> 9 min de lecture</span>
                        </div>
                        <p>Votre alimentation influence directement vos capacités d'apprentissage. Apprenez quels aliments privilégier pour optimiser vos performances intellectuelles.</p>
                        <a href="#" class="read-more" data-article="article5">
                            Lire la suite <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>

                <div class="article-card">
                    <div class="article-image">
                        <i class="fas fa-bed"></i>
                    </div>
                    <div class="article-content">
                        <h3>L'importance du sommeil dans l'apprentissage</h3>
                        <div class="article-meta">
                            <span><i class="fas fa-calendar"></i> 18 Février 2025</span>
                            <span><i class="fas fa-clock"></i> 7 min de lecture</span>
                        </div>
                        <p>Le sommeil joue un rôle crucial dans la consolidation de la mémoire. Découvrez comment optimiser votre sommeil pour améliorer vos résultats académiques.</p>
                        <a href="#" class="read-more" data-article="article6">
                            Lire la suite <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page Librairie -->
        <div class="page-section" id="librairie-page">
            <div class="page-title">
                <i class="fas fa-book"></i>
                <h1>Librairie Étudiante</h1>
            </div>

            <div class="files-container">
                <div id="books-loading" class="loading">
                    <i class="fas fa-spinner fa-spin"></i>
                    <h2>Chargement des livres...</h2>
                    <p>Connexion à Google Drive en cours</p>
                </div>

                <div id="books-error" class="error" style="display: none;">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h2>Erreur de chargement</h2>
                    <p>Impossible de récupérer les livres depuis Google Drive.</p>
                    <button id="books-retry-btn" class="btn btn-primary" style="margin-top: 15px;">
                        <i class="fas fa-redo"></i> Réessayer
                    </button>
                </div>

                <div id="books-empty-state" class="empty-state" style="display: none;">
                    <i class="fas fa-book"></i>
                    <h2>Aucun livre disponible</h2>
                    <p>Les livres apparaîtront ici une fois ajoutés à Google Drive.</p>
                </div>

                <div class="books-grid" id="books-grid">
                    <!-- Les livres seront ajoutés ici dynamiquement -->
                </div>
            </div>
        </div>

        <!-- Page À propos -->
        <div class="page-section" id="about-page">
            <div class="page-title">
                <i class="fas fa-info-circle"></i>
                <h1>À Propos de PrimeAcademia</h1>
            </div>

            <div class="about-content">
                <div class="about-section">
                    <h2><i class="fas fa-rocket"></i> Notre Mission</h2>
                    <p>PrimeAcademia est une plateforme éducative innovante dédiée à la démocratisation de l'accès aux ressources académiques. Notre mission est de fournir aux étudiants des outils pédagogiques de qualité pour faciliter leur réussite académique.</p>
                    <p>Nous croyons fermement que l'éducation devrait être accessible à tous, indépendamment des contraintes financières ou géographiques. C'est pourquoi nous mettons gratuitement à disposition une vaste collection d'épreuves académiques organisées méthodiquement.</p>
                </div>

                <div class="about-section">
                    <h2><i class="fas fa-users"></i> Notre Équipe</h2>
                    <p>PrimeAcademia est porté par une équipe passionnée d'enseignants, de développeurs et d'étudiants qui partagent une vision commune : transformer l'expérience d'apprentissage grâce à la technologie.</p>
                    <p>Notre équipe travaille constamment à améliorer la plateforme et à enrichir son contenu pour répondre aux besoins évolutifs de la communauté étudiante.</p>
                </div>

                <div class="about-section">
                    <h2><i class="fas fa-star"></i> Nos Valeurs</h2>
                    <ul>
                        <li><strong>Accessibilité</strong> : Ressources gratuites pour tous les étudiants</li>
                        <li><strong>Qualité</strong> : Contenu vérifié et organisé méthodiquement</li>
                        <li><strong>Innovation</strong> : Interface moderne et expérience utilisateur optimale</li>
                        <li><strong>Communauté</strong> : Plateforme collaborative au service des étudiants</li>
                        <li><strong>Transparence</strong> : Fonctionnement clair et respect de la vie privée</li>
                    </ul>
                </div>

                <div class="about-section">
                    <h2><i class="fas fa-cogs"></i> Fonctionnalités Principales</h2>
                    <div class="features-grid">
                        <div class="feature-card">
                            <h3><i class="fas fa-search"></i> Recherche Avancée</h3>
                            <p>Trouvez rapidement les documents dont vous avez besoin grâce à notre système de filtres intelligents.</p>
                        </div>
                        <div class="feature-card">
                            <h3><i class="fas fa-sync-alt"></i> Mise à Jour Automatique</h3>
                            <p>Les nouveaux fichiers ajoutés à Google Drive apparaissent instantanément sur la plateforme.</p>
                        </div>
                        <div class="feature-card">
                            <h3><i class="fas fa-mobile-alt"></i> Design Responsive</h3>
                            <p>Accédez à vos ressources depuis n'importe quel appareil : ordinateur, tablette ou smartphone.</p>
                        </div>
                        <div class="feature-card">
                            <h3><i class="fas fa-shield-alt"></i> Sécurité et Confidentialité</h3>
                            <p>Vos données sont protégées et nous ne collectons aucune information personnelle sensible.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page Contact -->
        <div class="page-section" id="contact-page">
            <div class="page-title">
                <i class="fas fa-envelope"></i>
                <h1>Contactez-Nous</h1>
            </div>

            <div class="contact-content">
                <div class="contact-info">
                    <h2><i class="fas fa-info-circle"></i> Informations de Contact</h2>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div>
                            <h3>Email</h3>
                            <p>primeacademia071@gmail.com</p>
                            <p>Réponse sous 24 heures</p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div>
                            <h3>WhatsApp</h3>
                            <p>+229 41733286</p>
                            <p>Support direct et rapide</p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div>
                            <h3>Horaires de Support</h3>
                            <p>Lundi - Vendredi : 8h - 18h</p>
                            <p>Samedi : 9h - 13h</p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <div>
                            <h3>Types de Support</h3>
                            <p>Questions techniques</p>
                            <p>Suggestions d'amélioration</p>
                            <p>Problèmes de téléchargement</p>
                        </div>
                    </div>
                </div>

                <div class="contact-form">
                    <h2><i class="fas fa-paper-plane"></i> Envoyez-nous un Message</h2>
                    
                    <div id="contact-alert" class="alert alert-success" style="display: none;">
                        <i class="fas fa-check-circle"></i>
                        <span>Votre message a été envoyé avec succès !</span>
                    </div>

                    <div id="contact-error" class="alert alert-error" style="display: none;">
                        <i class="fas fa-exclamation-circle"></i>
                        <span>Une erreur est survenue. Veuillez réessayer.</span>
                    </div>

                    <form id="contactForm" action="https://formspree.io/f/manvdydv" method="POST">
                        <div class="form-group">
                            <label for="name">Votre Nom</label>
                            <input type="text" id="name" name="name" required>
                        </div>

                        <div class="form-group">
                            <label for="email">Votre Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>

                        <div class="form-group">
                            <label for="subject">Sujet</label>
                            <input type="text" id="subject" name="subject" required>
                        </div>

                        <div class="form-group">
                            <label for="message">Votre Message</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>

                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Envoyer le Message
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Page Politique de confidentialité -->
        <div class="page-section" id="privacy-page">
            <div class="page-title">
                <i class="fas fa-shield-alt"></i>
                <h1>Politique de Confidentialité</h1>
            </div>

            <div class="privacy-content">
                <div class="about-section">
                    <h2><i class="fas fa-info-circle"></i> Collecte des Informations</h2>
                    <p>PrimeAcademia s'engage à protéger votre vie privée. Nous collectons uniquement les informations nécessaires au bon fonctionnement de la plateforme :</p>
                    <ul>
                        <li>Adresse email (pour le formulaire de contact)</li>
                        <li>Données de navigation anonymisées</li>
                        <li>Préférences d'affichage (thème sombre/clair)</li>
                    </ul>
                </div>

                <div class="about-section">
                    <h2><i class="fas fa-cookie"></i> Utilisation des Cookies</h2>
                    <p>Nous utilisons des cookies techniques pour :</p>
                    <ul>
                        <li>Mémoriser vos préférences de thème</li>
                        <li>Améliorer les performances du site</li>
                        <li>Faciliter votre navigation</li>
                    </ul>
                    <p>Aucun cookie de suivi ou publicitaire n'est utilisé sur notre plateforme.</p>
                </div>

                <div class="about-section">
                    <h2><i class="fas fa-lock"></i> Protection des Données</h2>
                    <p>Vos données sont sécurisées et ne sont jamais partagées avec des tiers. Nous utilisons des protocoles de sécurité standards pour protéger vos informations.</p>
                </div>
            </div>
        </div>

        <!-- Page Mentions légales -->
        <div class="page-section" id="legal-page">
            <div class="page-title">
                <i class="fas fa-gavel"></i>
                <h1>Mentions Légales</h1>
            </div>

            <div class="legal-content">
                <div class="about-section">
                    <h2><i class="fas fa-building"></i> Éditeur du Site</h2>
                    <p><strong>PrimeAcademia</strong></p>
                    <p>Plateforme éducative à but non lucratif</p>
                    <p>Email : primeacademia071@gmail.com</p>
                </div>

                <div class="about-section">
                    <h2><i class="fas fa-cloud"></i> Hébergement</h2>
                    <p>Le site PrimeAcademia est hébergé sur :</p>
                    <p><strong>Google Cloud Platform</strong></p>
                    <p>Les fichiers sont stockés sur Google Drive</p>
                </div>

                <div class="about-section">
                    <h2><i class="fas fa-balance-scale"></i> Propriété Intellectuelle</h2>
                    <p>Les épreuves académiques partagées sur PrimeAcademia sont mises à disposition à des fins éducatives. Les droits d'auteur restent la propriété de leurs auteurs respectifs.</p>
                </div>

                <div class="about-section">
                    <h2><i class="fas fa-exclamation-triangle"></i> Limitations de Responsabilité</h2>
                    <p>PrimeAcademia ne peut être tenu responsable :</p>
                    <ul>
                        <li>De l'exactitude du contenu des fichiers partagés</li>
                        <li>Des interruptions temporaires du service</li>
                        <li>De l'utilisation faite des ressources par les utilisateurs</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Articles détaillés -->
        <div class="page-section" id="article1-page">
            <a href="#" class="back-to-articles">
                <i class="fas fa-arrow-left"></i> Retour aux articles
            </a>
            
            <div class="article-detail">
                <div class="article-header">
                    <h1>Comment bien se préparer aux examens</h1>
                    <div class="article-meta-large">
                        <span><i class="fas fa-calendar"></i> 15 Mars 2025</span>
                        <span><i class="fas fa-clock"></i> 12 min de lecture</span>
                        <span><i class="fas fa-user"></i> Équipe PrimeAcademia</span>
                    </div>
                </div>

                <div class="article-body">
                    <h2>Introduction</h2>
                    <p>La préparation aux examens est une étape cruciale dans le parcours académique de tout étudiant. Une bonne organisation et des méthodes de travail efficaces peuvent faire toute la différence dans vos résultats. Dans cet article complet, nous allons explorer les stratégies les plus efficaces pour optimiser votre temps de révision et maximiser vos chances de succès.</p>
                    
                    <div class="highlight-box">
                        <h3>💡 Conseil Clé</h3>
                        <p>Commencez vos révisions au moins 3 semaines avant l'examen pour avoir suffisamment de temps pour couvrir l'ensemble du programme.</p>
                    </div>
                    
                    <h2>Planification et Organisation</h2>
                    <p>La première étape d'une préparation réussie est la planification. Voici quelques conseils pour organiser votre temps efficacement :</p>
                    
                    <h3>Créer un calendrier de révision réaliste</h3>
                    <p>Établissez un planning détaillé qui couvre toutes les matières à réviser. Répartissez le temps en fonction de la difficulté de chaque sujet et de votre niveau de maîtrise. Utilisez un code couleur pour différencier les matières et les types d'activités (révision, exercices, tests).</p>
                    
                    <h3>Prioriser les contenus essentiels</h3>
                    <p>Identifiez les chapitres les plus importants et ceux qui vous posent le plus de difficultés. Consacrez plus de temps aux notions essentielles et à vos points faibles. N'oubliez pas de réviser également les sujets que vous maîtrisez bien pour consolider vos connaissances.</p>
                    
                    <h2>Méthodes de Travail Efficaces</h2>
                    <p>Adopter les bonnes méthodes de travail peut considérablement améliorer votre productivité :</p>
                    
                    <h3>Technique Pomodoro avancée</h3>
                    <p>Cette méthode consiste à travailler par intervalles de 25 minutes suivis de pauses de 5 minutes. Après quatre cycles, prenez une pause plus longue de 15-20 minutes. Pour optimiser cette technique :</p>
                    <ul>
                        <li>Utilisez un minuteur pour respecter strictement les intervalles</li>
                        <li>Pendant les pauses, éloignez-vous complètement de votre espace de travail</li>
                        <li>Hydratez-vous et faites quelques étirements pendant les pauses</li>
                    </ul>
                    
                    <h3>Révision active et espacée</h3>
                    <p>Au lieu de simplement relire vos cours, testez-vous régulièrement. Utilisez des flashcards, résolvez des exercices et refaites des anciennes épreuves. La révision espacée (réviser à intervalles croissants) est particulièrement efficace pour la mémorisation à long terme.</p>
                    
                    <h2>Gestion du Stress et de l'Anxiété</h2>
                    <p>Le stress peut nuire à vos performances. Apprenez à le gérer avec ces techniques :</p>
                    <ul>
                        <li><strong>Pratiquez la respiration profonde</strong> : 5 minutes de respiration abdominale peuvent réduire significativement le stress</li>
                        <li><strong>Maintenez une activité physique régulière</strong> : 30 minutes d'exercice modéré par jour améliorent la concentration</li>
                        <li><strong>Dormez suffisamment</strong> : 7-8 heures de sommeil de qualité sont essentielles pour la consolidation de la mémoire</li>
                        <li><strong>Adoptez une alimentation équilibrée</strong> : Privilégiez les aliments riches en oméga-3, antioxydants et vitamines B</li>
                    </ul>
                    
                    <h2>Stratégies de Révision par Type d'Examen</h2>
                    
                    <h3>Pour les examens à questions ouvertes</h3>
                    <p>Concentrez-vous sur la compréhension globale des concepts et leur interrelation. Entraînez-vous à rédiger des réponses structurées et à gérer votre temps pendant l'épreuve.</p>
                    
                    <h3>Pour les QCM (Questionnaires à Choix Multiples)</h3>
                    <p>Développez votre capacité à reconnaître les bonnes réponses rapidement. Entraînez-vous avec des QCM similaires à ceux de l'examen et analysez vos erreurs.</p>
                    
                    <h3>Pour les examens pratiques</h3>
                    <p>Répétez les gestes et les procédures jusqu'à ce qu'ils deviennent automatiques. Simulez les conditions réelles de l'examen autant que possible.</p>
                    
                    <h2>La Veille de l'Examen</h2>
                    <p>La veille de l'examen est cruciale. Voici comment l'optimiser :</p>
                    <ul>
                        <li>Révisez légèrement les points clés, mais évitez d'apprendre de nouvelles notions</li>
                        <li>Préparez vos affaires (carte d'identité, convocation, matériel autorisé)</li>
                        <li>Reposez-vous et détendez-vous (lecture légère, musique, méditation)</li>
                        <li>Dînez léger et évitez l'alcool et les excitants</li>
                        <li>Couchez-vous à une heure raisonnable pour être en forme le jour J</li>
                    </ul>
                    
                    <h2>Le Jour de l'Examen</h2>
                    <p>Le jour J, adoptez ces bonnes pratiques :</p>
                    <ul>
                        <li>Levez-vous suffisamment tôt pour prendre un petit-déjeuner équilibré</li>
                        <li>Arrivez en avance sur le lieu d'examen pour vous installer tranquillement</li>
                        <li>Lisez attentivement toutes les consignes avant de commencer</li>
                        <li>Gérez votre temps : répartissez-le en fonction du nombre de questions et de leur difficulté</li>
                        <li>Relisez vos réponses si vous avez du temps à la fin</li>
                    </ul>
                    
                    <div class="highlight-box">
                        <h3>🎯 Stratégie Gagnante</h3>
                        <p>Commencez par les questions que vous maîtrisez le mieux pour gagner en confiance et maximiser vos points garantis.</p>
                    </div>
                    
                    <h2>Conclusion</h2>
                    <p>Une préparation méthodique et bien organisée est la clé du succès aux examens. En combinant planification rigoureuse, méthodes de travail efficaces et bonne gestion du stress, vous maximisez vos chances de réussite. Rappelez-vous que la régularité dans le travail et la confiance en vos capacités sont tout aussi importantes que les connaissances elles-mêmes.</p>
                    
                    <blockquote>
                        "Le succès n'est pas final, l'échec n'est pas fatal : c'est le courage de continuer qui compte." - Winston Churchill
                    </blockquote>
                </div>
            </div>
        </div>

        <div class="page-section" id="article2-page">
            <a href="#" class="back-to-articles">
                <i class="fas fa-arrow-left"></i> Retour aux articles
            </a>
            
            <div class="article-detail">
                <div class="article-header">
                    <h1>Organiser son espace de travail</h1>
                    <div class="article-meta-large">
                        <span><i class="fas fa-calendar"></i> 10 Mars 2025</span>
                        <span><i class="fas fa-clock"></i> 8 min de lecture</span>
                        <span><i class="fas fa-user"></i> Équipe PrimeAcademia</span>
                    </div>
                </div>

                <div class="article-body">
                    <h2>Introduction</h2>
                    <p>Un espace de travail bien organisé est essentiel pour une étude efficace. Il influence directement votre concentration, votre productivité et votre bien-être général. Dans cet article, nous explorerons comment créer un environnement d'étude optimal qui favorise l'apprentissage et minimise les distractions.</p>
                    
                    <div class="highlight-box">
                        <h3>💡 Conseil Clé</h3>
                        <p>Votre espace de travail doit être dédié exclusivement à l'étude pour créer une association mentale forte entre ce lieu et la concentration.</p>
                    </div>
                    
                    <h2>Choisir le bon emplacement</h2>
                    <p>L'emplacement de votre espace de travail est crucial. Voici quelques critères à considérer :</p>
                    
                    <h3>Lumière naturelle optimale</h3>
                    <p>Privilégiez un espace avec une bonne lumière naturelle. La lumière du jour réduit la fatigue oculaire, améliore l'humeur et régule le cycle veille-sommeil. Positionnez votre bureau perpendiculairement à la fenêtre pour éviter les reflets sur l'écran tout en bénéficiant de la lumière naturelle.</p>
                    
                    <h3>Calme et tranquillité</h3>
                    <p>Évitez les zones de passage et les sources de bruit constant. Un environnement calme favorise la concentration. Si vous ne pouvez pas éviter complètement le bruit, envisagez des solutions comme :</p>
                    <ul>
                        <li>Des bouchons d'oreilles</li>
                        <li>De la musique instrumentale ou des bruits blancs</li>
                        <li>Des casques antibruit</li>
                    </ul>
                    
                    <h2>Équipement essentiel pour un espace de travail efficace</h2>
                    <p>Voici les éléments indispensables pour créer un environnement propice à l'étude :</p>
                    
                    <h3>Bureau et chaise ergonomiques</h3>
                    <p>Investissez dans une chaise confortable et un bureau à la bonne hauteur pour préserver votre posture. La hauteur idéale permet à vos coudes de former un angle de 90 degrés lorsque vous écrivez ou tapez au clavier. Vos pieds doivent reposer à plat sur le sol.</p>
                    
                    <h3>Organisation du matériel</h3>
                    <p>Rangez vos fournitures de manière accessible. Utilisez des organisateurs, des classeurs et des étagères. Catégorisez vos documents par matière et par type (cours, exercices, corrigés). Un système d'organisation cohérent vous fera gagner un temps précieux.</p>
                    
                    <h2>Optimisation de l'environnement numérique</h2>
                    <p>Votre espace de travail numérique est tout aussi important que l'espace physique :</p>
                    
                    <h3>Organisation des fichiers</h3>
                    <p>Créez une structure de dossiers logique sur votre ordinateur. Utilisez des noms de fichiers explicites et cohérents. Sauvegardez régulièrement vos documents importants sur un cloud ou un disque externe.</p>
                    
                    <h3>Gestion des distractions numériques</h3>
                    <p>Les notifications constantes peuvent gravement perturber votre concentration. Mettez en place ces stratégies :</p>
                    <ul>
                        <li>Activez le mode "Ne pas déranger" sur vos appareils</li>
                        <li>Utilisez des applications de blocage de sites distractifs</li>
                        <li>Désactivez les notifications non essentielles</li>
                        <li>Consacrez des plages horaires spécifiques à la consultation des emails et réseaux sociaux</li>
                    </ul>
                    
                    <h2>Conclusion</h2>
                    <p>Un espace de travail bien organisé n'est pas un luxe mais une nécessité pour réussir vos études. Prenez le temps d'aménager un environnement qui vous convient et qui favorise votre productivité. Rappelez-vous que l'objectif est de créer un espace où vous vous sentez à l'aise, concentré et motivé pour apprendre.</p>
                    
                    <blockquote>
                        "L'ordre est la beauté de l'esprit." - Proverbe français
                    </blockquote>
                </div>
            </div>
        </div>

        <div class="page-section" id="article3-page">
            <a href="#" class="back-to-articles">
                <i class="fas fa-arrow-left"></i> Retour aux articles
            </a>
            
            <div class="article-detail">
                <div class="article-header">
                    <h1>Techniques de mémorisation efficaces</h1>
                    <div class="article-meta-large">
                        <span><i class="fas fa-calendar"></i> 5 Mars 2025</span>
                        <span><i class="fas fa-clock"></i> 15 min de lecture</span>
                        <span><i class="fas fa-user"></i> Équipe PrimeAcademia</span>
                    </div>
                </div>

                <div class="article-body">
                    <h2>Introduction</h2>
                    <p>La mémorisation est au cœur de l'apprentissage. Découvrez des techniques éprouvées pour retenir plus facilement vos cours et optimiser votre temps d'étude. Cet article explore les méthodes les plus efficaces, validées par les neurosciences, pour améliorer durablement votre capacité à mémoriser l'information.</p>
                    
                    <div class="highlight-box">
                        <h3>💡 Conseil Clé</h3>
                        <p>La mémorisation n'est pas une question de capacité innée mais de méthode. Avec les bonnes techniques, tout le monde peut considérablement améliorer sa mémoire.</p>
                    </div>
                    
                    <h2>Techniques de mémorisation avancées</h2>
                    
                    <h3>La répétition espacée</h3>
                    <p>Révisez à intervalles croissants : après 1 jour, 3 jours, 1 semaine, 2 semaines, 1 mois, etc. Cette technique renforce la mémorisation à long terme en exploitant la courbe de l'oubli d'Ebbinghaus.</p>
                    
                    <h3>Le palais mental (méthode des loci)</h3>
                    <p>Associez les informations à mémoriser à des lieux que vous connaissez bien (votre maison, votre trajet habituel). Parcourez mentalement ces lieux pour vous souvenir.</p>
                    
                    <h3>La technique de Feynman</h3>
                    <p>Expliquez le concept que vous voulez mémoriser comme si vous l'enseigniez à un enfant. Cette méthode vous force à simplifier et à clarifier votre compréhension.</p>
                    
                    <h2>Conclusion</h2>
                    <p>La mémorisation n'est pas une question de capacité innée mais de méthode. En adoptant les bonnes techniques et en étant régulier dans votre travail, vous pouvez considérablement améliorer votre capacité à retenir l'information.</p>
                    
                    <blockquote>
                        "La mémoire est le trésor et gardien de toutes choses." - Cicéron
                    </blockquote>
                </div>
            </div>
        </div>

        <div class="page-section" id="article4-page">
            <a href="#" class="back-to-articles">
                <i class="fas fa-arrow-left"></i> Retour aux articles
            </a>
            
            <div class="article-detail">
                <div class="article-header">
                    <h1>Gestion du temps et productivité</h1>
                    <div class="article-meta-large">
                        <span><i class="fas fa-calendar"></i> 28 Février 2025</span>
                        <span><i class="fas fa-clock"></i> 10 min de lecture</span>
                        <span><i class="fas fa-user"></i> Équipe PrimeAcademia</span>
                    </div>
                </div>

                <div class="article-body">
                    <h2>Introduction</h2>
                    <p>Maîtriser son temps est essentiel pour réussir ses études tout en maintenant un équilibre de vie sain. Dans cet article, nous explorerons des stratégies éprouvées pour optimiser votre emploi du temps, booster votre productivité et réduire le stress lié aux échéances académiques.</p>
                    
                    <div class="highlight-box">
                        <h3>💡 Conseil Clé</h3>
                        <p>La productivité n'est pas faire plus de choses, mais faire les bonnes choses au bon moment avec le maximum d'efficacité.</p>
                    </div>
                    
                    <h2>Les Principes Fondamentaux de la Gestion du Temps</h2>
                    
                    <h3>La Loi de Pareto (80/20)</h3>
                    <p>80% de vos résultats proviennent de 20% de vos efforts. Identifiez les tâches qui ont le plus d'impact sur votre réussite académique et concentrez-vous sur elles.</p>
                    
                    <h3>La Matrice d'Eisenhower</h3>
                    <p>Classez vos tâches selon deux critères : l'urgence et l'importance. Cette méthode vous aide à prioriser efficacement.</p>
                    
                    <h2>Conclusion</h2>
                    <p>Une bonne gestion du temps est une compétence qui s'apprend et se perfectionne avec la pratique. En expérimentant différentes techniques et en restant flexible, vous trouverez le système qui fonctionne le mieux pour votre style d'apprentissage et votre rythme de vie.</p>
                </div>
            </div>
        </div>

        <div class="page-section" id="article5-page">
            <a href="#" class="back-to-articles">
                <i class="fas fa-arrow-left"></i> Retour aux articles
            </a>
            
            <div class="article-detail">
                <div class="article-header">
                    <h1>Alimentation et performance cognitive</h1>
                    <div class="article-meta-large">
                        <span><i class="fas fa-calendar"></i> 22 Février 2025</span>
                        <span><i class="fas fa-clock"></i> 9 min de lecture</span>
                        <span><i class="fas fa-user"></i> Équipe PrimeAcademia</span>
                    </div>
                </div>

                <div class="article-body">
                    <h2>Introduction</h2>
                    <p>Votre alimentation influence directement vos capacités d'apprentissage, votre concentration et votre mémoire. Dans cet article, découvrez comment optimiser votre nutrition pour booster vos performances intellectuelles et maintenir un niveau d'énergie constant tout au long de la journée.</p>
                    
                    <div class="highlight-box">
                        <h3>💡 Conseil Clé</h3>
                        <p>Le cerveau représente seulement 2% du poids corporel mais consomme environ 20% de l'énergie quotidienne. Une alimentation adaptée est donc cruciale pour son fonctionnement optimal.</p>
                    </div>
                    
                    <h2>Les Nutriments Essentiels pour le Cerveau</h2>
                    
                    <h3>Oméga-3 et Acides Gras Essentiels</h3>
                    <p>Les acides gras oméga-3, particulièrement le DHA, sont essentiels pour la structure des membranes cellulaires du cerveau. Sources : poissons gras, noix, graines de lin.</p>
                    
                    <h3>Antioxydants</h3>
                    <p>Ils protègent le cerveau contre le stress oxydatif. Sources : fruits rouges, légumes colorés, thé vert, chocolat noir.</p>
                    
                    <h2>Conclusion</h2>
                    <p>Une alimentation équilibrée et adaptée aux besoins de votre cerveau peut significativement améliorer vos performances académiques. En combinant une nutrition optimale avec d'autres bonnes habitudes de vie, vous maximisez vos chances de réussite.</p>
                </div>
            </div>
        </div>

        <div class="page-section" id="article6-page">
            <a href="#" class="back-to-articles">
                <i class="fas fa-arrow-left"></i> Retour aux articles
            </a>
            
            <div class="article-detail">
                <div class="article-header">
                    <h1>L'importance du sommeil dans l'apprentissage</h1>
                    <div class="article-meta-large">
                        <span><i class="fas fa-calendar"></i> 18 Février 2025</span>
                        <span><i class="fas fa-clock"></i> 7 min de lecture</span>
                        <span><i class="fas fa-user"></i> Équipe PrimeAcademia</span>
                    </div>
                </div>

                <div class="article-body">
                    <h2>Introduction</h2>
                    <p>Le sommeil joue un rôle crucial dans la consolidation de la mémoire et les processus d'apprentissage. Pourtant, de nombreux étudiants sacrifient leurs heures de sommeil pour étudier davantage, ignorant que cette stratégie est contre-productive. Découvrez pourquoi un sommeil de qualité est votre allié le plus précieux pour la réussite académique.</p>
                    
                    <div class="highlight-box">
                        <h3>💡 Conseil Clé</h3>
                        <p>Une nuit de sommeil perdue peut réduire votre capacité d'apprentissage de jusqu'à 40% le lendemain. Le sommeil n'est pas du temps perdu, c'est un investissement dans votre réussite.</p>
                    </div>
                    
                    <h2>Les Cycles du Sommeil et leur Rôle dans l'Apprentissage</h2>
                    
                    <h3>Sommeil Lent Profond</h3>
                    <p>Pendant cette phase, le cerveau consolide les souvenirs déclaratifs (faits, concepts, informations). C'est essentiel pour la mémorisation des connaissances académiques.</p>
                    
                    <h3>Sommeil Paradoxal (REM)</h3>
                    <p>Cette phase est cruciale pour la consolidation des souvenirs procéduraux (compétences, habiletés) et la créativité. Elle permet de réorganiser et d'intégrer les nouvelles connaissances.</p>
                    
                    <h2>Conclusion</h2>
                    <p>Investir dans un sommeil de qualité n'est pas du temps perdu, mais une stratégie intelligente pour optimiser vos capacités d'apprentissage. En dormant suffisamment, vous améliorez non seulement votre mémoire et votre concentration, mais aussi votre humeur et votre résistance au stress.</p>
                </div>
            </div>
        </div>

    </main>

    <footer>
        <div class="container">
            <div class="footer-links">
                <div class="footer-section">
                    <h3>PrimeAcademia</h3>
                    <p>Plateforme éducative de partage de ressources académiques pour les étudiants. Accès gratuit aux épreuves organisées par filière, année et semestre.</p>
                </div>
                <div class="footer-section">
                    <h3>Navigation</h3>
                    <a href="#" class="nav-link" data-page="home">Accueil</a>
                    <a href="#" class="nav-link" data-page="articles">Articles</a>
                    <a href="#" class="nav-link" data-page="librairie">Librairie</a>
                    <a href="#" class="nav-link" data-page="about">À propos</a>
                    <a href="#" class="nav-link" data-page="contact">Contact</a>
                </div>
                <div class="footer-section">
                    <h3>Légal</h3>
                    <a href="#" class="nav-link" data-page="privacy">Politique de confidentialité</a>
                    <a href="#" class="nav-link" data-page="legal">Mentions légales</a>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <a href="mailto:primeacademia071@gmail.com">primeacademia071@gmail.com</a>
                    <a href="https://wa.me/22941733286" target="_blank">WhatsApp: +229 41733286</a>
                    <p>Support étudiant dédié</p>
                </div>
            </div>
            
            <div class="legal-links">
                <a href="#" class="nav-link" data-page="privacy">Politique de confidentialité</a>
                <a href="#" class="nav-link" data-page="legal">Mentions légales</a>
                <a href="#" class="nav-link" data-page="contact">Contact</a>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 PrimeAcademia. Tous droits réservés. | Plateforme éducative à but non lucratif</p>
                <p style="margin-top: 0.5rem; font-size: 0.8rem; opacity: 0.7;">
                    <span id="total-users-footer">0</span> étudiants inscrits
                </p>
            </div>
        </div>
    </footer>

    <script>
        // =============================================
        // CONFIGURATION SUPRABASE
        // =============================================

        // REMPLACEZ CES VALEURS PAR VOS CLÉS SUPRABASE
        const SUPABASE_CONFIG = {
            url: 'https://upbrkpsxytizjucmoeyu.supabase.co', // Remplacez par votre URL Supabase
            anonKey: ''eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVwYnJrcHN4eXRpemp1Y21vZXl1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNDI4MDYsImV4cCI6MjA4MDYxODgwNn0.M7b41qI5wleQH6GfZg28-QO4r7tkqtwixavmtVvbYZg'' // Remplacez par votre clé anon
        };

        // Initialisation Supabase
        const supabase = supabase.createClient(SUPABASE_CONFIG.url, SUPABASE_CONFIG.anonKey);

        // =============================================
        // CONFIGURATION GOOGLE DRIVE
        // =============================================

        const DRIVE_CONFIG = {
            apiKey: 'AIzaSyB7RFQGzSFAHRMhq5EA8XK50inK-nHHquA',
            folders: {
                'informatique': {
                    'annee1': {
                        'semestre1': '1ifAR2Qdp-1pU02hLgXaNzBr7B5rGdWT0',
                        'semestre2': '1875t_ZzLlFYzw9fiwnpzYCWCIqDmBmJE'
                    },
                    'annee2': {
                        'semestre1': '1TNkeABCC7SzWcyJYSazuSU2nJQ0VZhDF',
                        'semestre2': '1VgYoHu-fdzf8N6sLhzVYWTtNwDu6uszq'
                    },
                    'annee3': {
                        'semestre1': '1fX5oIlUtjaqNpNWMcUxz5-CVURooidAy',
                        'semestre2': '1973ak0m5blMGQdDpkyZtKSO2f6wJ77X4'
                    }
                },
                'gestion': {
                    'annee1': {
                        'semestre1': '1xKrvCyZQsYWb1ukRlzwb-Xism1kt1v-Q',
                        'semestre2': '17cjdgOUdmBmCkdvRQyOD0em9DlfUlce0'
                    },
                    'annee2': {
                        'semestre1': '1_2c6_MxGrvrTKeEkc3vuoqMzRbbAhP2u',
                        'semestre2': '107os1ftGtCpphtAcRH63RtbhBwHAokrF'
                    },
                    'annee3': {
                        'semestre1': '13WR7679luMOE8apLbOLiFO7s6Hl9auyn',
                        'semestre2': '1oPyhgaZz-dwTa3Jyg61mSyiwl_6RQeP6'
                    }
                },
                'college': {
                    'sixieme': {
                        'semestre1': '1SIOjvRFmCmOJ7kGzbHxHiFDGcCZRtR2p',
                        'semestre2': '1SqrFgsny3KE2H7CD_zJaOotyvtnGxzzW'
                    },
                    'cinquieme': {
                        'semestre1': 'COLLEZ_ID_5EME_SEM1_ICI',
                        'semestre2': 'COLLEZ_ID_5EME_SEM2_ICI'
                    },
                    'quatrieme': {
                        'semestre1': 'COLLEZ_ID_4EME_SEM1_ICI',
                        'semestre2': 'COLLEZ_ID_4EME_SEM2_ICI'
                    },
                    'troisieme': {
                        'semestre1': 'COLLEZ_ID_3EME_SEM1_ICI',
                        'semestre2': 'COLLEZ_ID_3EME_SEM2_ICI'
                    },
                    'seconde': {
                        'semestre1': 'COLLEZ_ID_SECONDE_SEM1_ICI',
                        'semestre2': 'COLLEZ_ID_SECONDE_SEM2_ICI'
                    },
                    'premiere': {
                        'semestre1': 'COLLEZ_ID_PREMIERE_SEM1_ICI',
                        'semestre2': 'COLLEZ_ID_PREMIERE_SEM2_ICI'
                    },
                    'terminale': {
                        'semestre1': 'COLLEZ_ID_TERMINALE_SEM1_ICI',
                        'semestre2': 'COLLEZ_ID_TERMINALE_SEM2_ICI'
                    }
                }
            }
        };

        // Configuration pour la librairie
        const LIBRAIRIE_CONFIG = {
            folderId: '15BF1wR1vs90fSN18Abk1Do4_ABvM4CQY',
            apiKey: DRIVE_CONFIG.apiKey
        };

        // Configuration des pages
        const PAGES_CONFIG = {
            'home': 'home-page',
            'articles': 'articles-page',
            'librairie': 'librairie-page',
            'article1': 'article1-page',
            'article2': 'article2-page',
            'article3': 'article3-page',
            'article4': 'article4-page',
            'article5': 'article5-page',
            'article6': 'article6-page',
            'about': 'about-page',
            'contact': 'contact-page',
            'privacy': 'privacy-page',
            'legal': 'legal-page'
        };

        // =============================================
        // VARIABLES GLOBALES
        // =============================================

        let currentUser = null;
        let filesData = [];
        let booksData = [];
        let updateCounter = 24 * 60 * 60;
        
        // Variables pour la pagination
        let currentPage = 1;
        const itemsPerPage = 12;
        let filteredFiles = [];

        // Variables pour l'inscription
        let registrationData = {
            step1: {},
            step2: {},
            step3: {}
        };

        // =============================================
        // ÉLÉMENTS DOM
        // =============================================

        // Modal d'authentification
        const authModal = document.getElementById('authModal');
        const closeAuthModal = document.getElementById('closeAuthModal');
        
        // Boutons d'authentification dans le header
        const loginButtonHeader = document.getElementById('login-button-header');
        const registerButtonHeader = document.getElementById('register-button-header');
        
        // Boutons d'authentification dans le main
        const loginButtonMain = document.getElementById('login-button-main');
        const registerButtonMain = document.getElementById('register-button-main');
        
        // Formulaires d'authentification
        const loginForm = document.getElementById('login-form');
        const registerStep1 = document.getElementById('register-step-1');
        const registerStep2 = document.getElementById('register-step-2');
        const registerStep3 = document.getElementById('register-step-3');
        const registerStep4 = document.getElementById('register-step-4');
        const forgotPasswordForm = document.getElementById('forgot-password-form');
        
        // Boutons de navigation entre formulaires
        const switchToLogin = document.getElementById('switch-to-login');
        const switchToRegister = document.getElementById('switch-to-register');
        const backToLogin = document.getElementById('back-to-login');
        const forgotPassword = document.getElementById('forgot-password');
        
        // Boutons de navigation entre étapes
        const nextStep1 = document.getElementById('next-step-1');
        const prevStep2 = document.getElementById('prev-step-2');
        const nextStep2 = document.getElementById('next-step-2');
        const prevStep3 = document.getElementById('prev-step-3');
        const nextStep3 = document.getElementById('next-step-3');
        const prevStep4 = document.getElementById('prev-step-4');
        const completeRegistration = document.getElementById('complete-registration');
        
        // Boutons de soumission
        const loginButton = document.getElementById('login-button');
        const resetPasswordButton = document.getElementById('reset-password-button');
        
        // Champs de formulaire d'inscription
        const registerNom = document.getElementById('register-nom');
        const registerPrenom = document.getElementById('register-prenom');
        const registerEmail = document.getElementById('register-email');
        const registerPhone = document.getElementById('register-phone');
        const registerBirthdate = document.getElementById('register-birthdate');
        const registerGender = document.getElementById('register-gender');
        const registerFiliere = document.getElementById('register-filiere');
        const registerNiveau = document.getElementById('register-niveau');
        const registerEtablissement = document.getElementById('register-etablissement');
        const registerVille = document.getElementById('register-ville');
        const registerObjectif = document.getElementById('register-objectif');
        const registerMatieres = document.getElementById('register-matieres');
        const registerPassword = document.getElementById('register-password');
        const registerConfirmPassword = document.getElementById('register-confirm-password');
        const registerNewsletter = document.getElementById('register-newsletter');
        const registerTerms = document.getElementById('register-terms');
        const registerInviteCode = document.getElementById('register-invite-code');
        const registerConfirm = document.getElementById('register-confirm');
        
        // Champs de formulaire de connexion
        const loginEmail = document.getElementById('login-email');
        const loginPassword = document.getElementById('login-password');
        const rememberMe = document.getElementById('remember-me');
        
        // Champs de formulaire de réinitialisation
        const resetEmail = document.getElementById('reset-email');
        
        // Profil utilisateur
        const userProfile = document.getElementById('user-profile');
        const userAvatar = document.getElementById('user-avatar');
        const userName = document.getElementById('user-name');
        const userMenu = document.getElementById('user-menu');
        const authButtons = document.getElementById('auth-buttons');
        
        // Boutons du menu utilisateur
        const viewProfile = document.getElementById('view-profile');
        const myDownloads = document.getElementById('my-downloads');
        const logoutButton = document.getElementById('logout-button');
        
        // Message de bienvenue
        const welcomeMessage = document.getElementById('welcome-message');
        const loginRequired = document.getElementById('login-required');
        
        // Éléments des fichiers
        const loading = document.getElementById('loading');
        const error = document.getElementById('error');
        const emptyState = document.getElementById('empty-state');
        const filesContent = document.getElementById('files-content');
        const filesGrid = document.getElementById('files-grid');
        const totalFilesElement = document.getElementById('total-files');
        const totalFilieresElement = document.getElementById('total-filieres');
        const totalUsersElement = document.getElementById('total-users');
        const totalUsersFooter = document.getElementById('total-users-footer');
        
        // Filtres et recherche
        const searchInput = document.getElementById('search-input');
        const filiereFilter = document.getElementById('filiere-filter');
        const yearFilter = document.getElementById('year-filter');
        const semestreFilter = document.getElementById('semestre-filter');
        const retryBtn = document.getElementById('retry-btn');
        
        // Navigation
        const navLinks = document.querySelectorAll('.nav-link');
        const pageSections = document.querySelectorAll('.page-section');
        const menuToggle = document.getElementById('menuToggle');
        const mainNav = document.getElementById('mainNav');
        const menuOverlay = document.getElementById('menuOverlay');
        const logo = document.querySelector('.logo');
        
        // Librairie
        const booksGrid = document.getElementById('books-grid');
        const booksEmptyState = document.getElementById('books-empty-state');
        const booksLoading = document.getElementById('books-loading');
        const booksError = document.getElementById('books-error');
        const booksRetryBtn = document.getElementById('books-retry-btn');
        
        // Introduction
        const introCollapsed = document.getElementById('intro-collapsed');
        const introExpanded = document.getElementById('intro-expanded');
        const introToggle = document.getElementById('intro-toggle');
        const introClose = document.getElementById('intro-close');
        
        // Pagination
        const paginationElement = document.getElementById('pagination');
        const firstPageBtn = document.getElementById('first-page');
        const prevPageBtn = document.getElementById('prev-page');
        const nextPageBtn = document.getElementById('next-page');
        const lastPageBtn = document.getElementById('last-page');
        const pageInfo = document.getElementById('page-info');
        
        // Contact
        const contactForm = document.getElementById('contactForm');
        const contactAlert = document.getElementById('contact-alert');
        const contactError = document.getElementById('contact-error');

        // =============================================
        // INITIALISATION
        // =============================================

        document.addEventListener('DOMContentLoaded', async function() {
            console.log("🚀 Initialisation de PrimeAcademia avec authentification...");
            
            // Vérifier l'état d'authentification
            await checkAuth();
            
            // Initialiser les écouteurs d'événements
            setupAuthEventListeners();
            setupAppEventListeners();
            
            // Charger les livres (accessible sans connexion)
            loadBooks();
            
            console.log("✅ PrimeAcademia initialisé avec succès");
        });

        // =============================================
        // GESTION DE L'AUTHENTIFICATION
        // =============================================

        async function checkAuth() {
            try {
                // Vérifier la session Supabase
                const { data: { session }, error } = await supabase.auth.getSession();
                
                if (error) throw error;
                
                if (session) {
                    // Utilisateur connecté
                    currentUser = session.user;
                    await loadUserProfile();
                    updateUIForLoggedInUser();
                    loadFiles(); // Charger les fichiers seulement si connecté
                } else {
                    // Utilisateur non connecté
                    updateUIForGuest();
                }
                
                // Mettre à jour les statistiques
                await updateUserStats();
                
            } catch (error) {
                console.error('Erreur lors de la vérification de l\'authentification:', error);
                updateUIForGuest();
            }
        }

        async function loadUserProfile() {
            if (!currentUser) return;
            
            try {
                // Récupérer le profil utilisateur depuis Supabase
                const { data: profile, error } = await supabase
                    .from('profiles')
                    .select('*')
                    .eq('id', currentUser.id)
                    .single();
                
                if (error && error.code !== 'PGRST116') throw error;
                
                if (profile) {
                    // Mettre à jour l'affichage du profil
                    const firstName = profile.prenom || '';
                    const lastName = profile.nom || '';
                    const displayName = `${firstName} ${lastName}`.trim() || 'Utilisateur';
                    
                    userName.textContent = displayName;
                    userAvatar.textContent = (firstName[0] || lastName[0] || 'U').toUpperCase();
                    
                    // Stocker les informations du profil
                    currentUser.profile = profile;
                }
                
            } catch (error) {
                console.error('Erreur lors du chargement du profil:', error);
            }
        }

        async function updateUserStats() {
            try {
                // Compter le nombre total d'utilisateurs
                const { count, error } = await supabase
                    .from('profiles')
                    .select('*', { count: 'exact', head: true });
                
                if (!error && count !== null) {
                    totalUsersElement.textContent = count;
                    totalUsersFooter.textContent = count;
                }
            } catch (error) {
                console.error('Erreur lors de la mise à jour des statistiques:', error);
            }
        }

        // =============================================
        // INSCRIPTION EN 4 ÉTAPES
        // =============================================

        function setupAuthEventListeners() {
            // Ouverture/fermeture du modal
            [loginButtonHeader, registerButtonHeader, loginButtonMain, registerButtonMain].forEach(btn => {
                if (btn) btn.addEventListener('click', openAuthModal);
            });
            
            if (closeAuthModal) closeAuthModal.addEventListener('click', closeAuthModalHandler);
            
            // Navigation entre formulaires
            if (switchToLogin) switchToLogin.addEventListener('click', () => showForm('login'));
            if (switchToRegister) switchToRegister.addEventListener('click', () => showForm('register-step-1'));
            if (backToLogin) backToLogin.addEventListener('click', () => showForm('login'));
            if (forgotPassword) forgotPassword.addEventListener('click', () => showForm('forgot-password'));
            
            // Navigation entre étapes d'inscription
            if (nextStep1) nextStep1.addEventListener('click', validateStep1);
            if (prevStep2) prevStep2.addEventListener('click', () => showForm('register-step-1'));
            if (nextStep2) nextStep2.addEventListener('click', validateStep2);
            if (prevStep3) prevStep3.addEventListener('click', () => showForm('register-step-2'));
            if (nextStep3) nextStep3.addEventListener('click', validateStep3);
            if (prevStep4) prevStep4.addEventListener('click', () => showForm('register-step-3'));
            if (completeRegistration) completeRegistration.addEventListener('click', completeRegistrationProcess);
            
            // Validation en temps réel
            if (registerConfirm) registerConfirm.addEventListener('change', updateRegistrationSummary);
            
            // Soumission des formulaires
            if (loginButton) loginButton.addEventListener('click', handleLogin);
            if (resetPasswordButton) resetPasswordButton.addEventListener('click', handlePasswordReset);
            
            // Gestion du menu utilisateur
            if (userAvatar) userAvatar.addEventListener('click', toggleUserMenu);
            if (logoutButton) logoutButton.addEventListener('click', handleLogout);
            if (viewProfile) viewProfile.addEventListener('click', viewUserProfile);
            if (myDownloads) myDownloads.addEventListener('click', viewMyDownloads);
            
            // Fermer le menu utilisateur en cliquant ailleurs
            document.addEventListener('click', (e) => {
                if (userMenu && !userMenu.contains(e.target) && userAvatar && !userAvatar.contains(e.target)) {
                    userMenu.classList.remove('active');
                }
            });
            
            // Fermer le modal avec la touche Echap
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && authModal.classList.contains('active')) {
                    closeAuthModalHandler();
                }
            });
            
            // Fermer le modal en cliquant en dehors
            authModal.addEventListener('click', (e) => {
                if (e.target === authModal) {
                    closeAuthModalHandler();
                }
            });
        }

        function openAuthModal() {
            authModal.classList.add('active');
            document.body.style.overflow = 'hidden';
            showForm('login');
        }

        function closeAuthModalHandler() {
            authModal.classList.remove('active');
            document.body.style.overflow = '';
            resetRegistrationForm();
        }

        function showForm(formId) {
            // Masquer tous les formulaires
            [loginForm, registerStep1, registerStep2, registerStep3, registerStep4, forgotPasswordForm].forEach(form => {
                if (form) form.classList.remove('active');
            });
            
            // Afficher le formulaire demandé
            const formToShow = document.getElementById(formId);
            if (formToShow) {
                formToShow.classList.add('active');
            }
        }

        // VALIDATION ÉTAPE 1: Informations personnelles
        function validateStep1() {
            // Validation des champs requis
            if (!registerNom.value.trim()) {
                showError('Veuillez entrer votre nom');
                return;
            }
            
            if (!registerPrenom.value.trim()) {
                showError('Veuillez entrer votre prénom');
                return;
            }
            
            if (!registerEmail.value.trim()) {
                showError('Veuillez entrer votre adresse email');
                return;
            }
            
            if (!isValidEmail(registerEmail.value)) {
                showError('Veuillez entrer une adresse email valide');
                return;
            }
            
            if (!registerPhone.value.trim()) {
                showError('Veuillez entrer votre numéro de téléphone');
                return;
            }
            
            // Stocker les données de l'étape 1
            registrationData.step1 = {
                nom: registerNom.value.trim(),
                prenom: registerPrenom.value.trim(),
                email: registerEmail.value.trim(),
                phone: registerPhone.value.trim(),
                birthdate: registerBirthdate.value,
                gender: registerGender.value
            };
            
            // Passer à l'étape 2
            showForm('register-step-2');
        }

        // VALIDATION ÉTAPE 2: Informations académiques
        function validateStep2() {
            if (!registerFiliere.value) {
                showError('Veuillez sélectionner votre filière d\'études');
                return;
            }
            
            if (!registerNiveau.value) {
                showError('Veuillez sélectionner votre niveau d\'études');
                return;
            }
            
            // Stocker les données de l'étape 2
            registrationData.step2 = {
                filiere: registerFiliere.value,
                niveau: registerNiveau.value,
                etablissement: registerEtablissement.value.trim(),
                ville: registerVille.value.trim(),
                objectif: registerObjectif.value,
                matieres: registerMatieres.value.trim()
            };
            
            // Passer à l'étape 3
            showForm('register-step-3');
        }

        // VALIDATION ÉTAPE 3: Sécurité
        function validateStep3() {
            if (!registerPassword.value) {
                showError('Veuillez entrer un mot de passe');
                return;
            }
            
            if (registerPassword.value.length < 8) {
                showError('Le mot de passe doit contenir au moins 8 caractères');
                return;
            }
            
            if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(registerPassword.value)) {
                showError('Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre');
                return;
            }
            
            if (registerPassword.value !== registerConfirmPassword.value) {
                showError('Les mots de passe ne correspondent pas');
                return;
            }
            
            if (!registerTerms.checked) {
                showError('Vous devez accepter les conditions d\'utilisation');
                return;
            }
            
            // Stocker les données de l'étape 3
            registrationData.step3 = {
                password: registerPassword.value,
                newsletter: registerNewsletter.checked,
                termsAccepted: true
            };
            
            // Mettre à jour le récapitulatif et passer à l'étape 4
            updateRegistrationSummary();
            showForm('register-step-4');
        }

        function updateRegistrationSummary() {
            const summaryContent = document.getElementById('summary-content');
            if (!summaryContent) return;
            
            const data = registrationData;
            
            let html = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div><strong>Nom complet:</strong></div>
                    <div>${data.step1.prenom} ${data.step1.nom}</div>
                    
                    <div><strong>Email:</strong></div>
                    <div>${data.step1.email}</div>
                    
                    <div><strong>Téléphone:</strong></div>
                    <div>${data.step1.phone}</div>
                    
                    <div><strong>Filière:</strong></div>
                    <div>${formatFiliere(data.step2.filiere)}</div>
                    
                    <div><strong>Niveau:</strong></div>
                    <div>${formatNiveau(data.step2.niveau)}</div>
            `;
            
            if (data.step2.etablissement) {
                html += `
                    <div><strong>Établissement:</strong></div>
                    <div>${data.step2.etablissement}</div>
                `;
            }
            
            if (data.step2.ville) {
                html += `
                    <div><strong>Ville:</strong></div>
                    <div>${data.step2.ville}</div>
                `;
            }
            
            html += `
                    <div><strong>Newsletter:</strong></div>
                    <div>${data.step3.newsletter ? 'Oui' : 'Non'}</div>
                </div>
            `;
            
            summaryContent.innerHTML = html;
            
            // Activer/désactiver le bouton de finalisation
            if (completeRegistration) {
                completeRegistration.disabled = !registerConfirm.checked;
            }
        }

        async function completeRegistrationProcess() {
            const btn = completeRegistration;
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Création du compte...';
            btn.disabled = true;
            
            try {
                // Étape 1: Inscription avec Supabase Auth
                const { data: authData, error: authError } = await supabase.auth.signUp({
                    email: registrationData.step1.email,
                    password: registrationData.step3.password,
                    options: {
                        data: {
                            nom: registrationData.step1.nom,
                            prenom: registrationData.step1.prenom,
                            phone: registrationData.step1.phone
                        }
                    }
                });
                
                if (authError) throw authError;
                
                if (authData.user) {
                    // Étape 2: Création du profil utilisateur
                    const profileData = {
                        id: authData.user.id,
                        email: registrationData.step1.email,
                        nom: registrationData.step1.nom,
                        prenom: registrationData.step1.prenom,
                        phone: registrationData.step1.phone,
                        birthdate: registrationData.step1.birthdate || null,
                        gender: registrationData.step1.gender || null,
                        filiere: registrationData.step2.filiere,
                        niveau: registrationData.step2.niveau,
                        etablissement: registrationData.step2.etablissement || null,
                        ville: registrationData.step2.ville || null,
                        objectif: registrationData.step2.objectif || null,
                        matieres: registrationData.step2.matieres || null,
                        newsletter: registrationData.step3.newsletter,
                        invite_code: registerInviteCode.value || null,
                        created_at: new Date().toISOString(),
                        last_login: new Date().toISOString()
                    };
                    
                    const { error: profileError } = await supabase
                        .from('profiles')
                        .insert([profileData]);
                    
                    if (profileError) throw profileError;
                    
                    // Succès
                    showSuccess('Compte créé avec succès ! Vous êtes maintenant connecté.');
                    
                    // Mettre à jour l'interface
                    currentUser = authData.user;
                    currentUser.profile = profileData;
                    updateUIForLoggedInUser();
                    
                    // Fermer le modal
                    setTimeout(() => {
                        closeAuthModalHandler();
                        loadFiles(); // Charger les fichiers maintenant que l'utilisateur est connecté
                    }, 1500);
                    
                } else {
                    throw new Error('Erreur lors de la création du compte');
                }
                
            } catch (error) {
                console.error('Erreur lors de l\'inscription:', error);
                showError(error.message || 'Une erreur est survenue lors de l\'inscription');
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        // =============================================
        // CONNEXION UTILISATEUR
        // =============================================

        async function handleLogin() {
            const btn = loginButton;
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Connexion...';
            btn.disabled = true;
            
            try {
                const { data, error } = await supabase.auth.signInWithPassword({
                    email: loginEmail.value.trim(),
                    password: loginPassword.value
                });
                
                if (error) throw error;
                
                if (data.user) {
                    // Succès
                    showSuccess('Connexion réussie !');
                    
                    // Mettre à jour l'utilisateur courant
                    currentUser = data.user;
                    await loadUserProfile();
                    
                    // Mettre à jour l'interface
                    updateUIForLoggedInUser();
                    
                    // Fermer le modal
                    setTimeout(() => {
                        closeAuthModalHandler();
                        loadFiles(); // Charger les fichiers maintenant que l'utilisateur est connecté
                    }, 1000);
                }
                
            } catch (error) {
                console.error('Erreur lors de la connexion:', error);
                showError(error.message || 'Email ou mot de passe incorrect');
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        // =============================================
        // RÉINITIALISATION DE MOT DE PASSE
        // =============================================

        async function handlePasswordReset() {
            const btn = resetPasswordButton;
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi...';
            btn.disabled = true;
            
            try {
                const { error } = await supabase.auth.resetPasswordForEmail(resetEmail.value.trim(), {
                    redirectTo: `${window.location.origin}/reset-password`
                });
                
                if (error) throw error;
                
                showSuccess('Un email de réinitialisation a été envoyé à votre adresse.');
                setTimeout(() => showForm('login'), 2000);
                
            } catch (error) {
                console.error('Erreur lors de la réinitialisation:', error);
                showError(error.message || 'Une erreur est survenue');
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        // =============================================
        // DÉCONNEXION
        // =============================================

        async function handleLogout() {
            try {
                const { error } = await supabase.auth.signOut();
                
                if (error) throw error;
                
                // Réinitialiser l'utilisateur
                currentUser = null;
                
                // Mettre à jour l'interface
                updateUIForGuest();
                
                // Fermer le menu utilisateur
                userMenu.classList.remove('active');
                
                showSuccess('Déconnexion réussie');
                
            } catch (error) {
                console.error('Erreur lors de la déconnexion:', error);
                showError('Erreur lors de la déconnexion');
            }
        }

        // =============================================
        // MISE À JOUR DE L'INTERFACE
        // =============================================

        function updateUIForLoggedInUser() {
            // Afficher le profil utilisateur
            userProfile.style.display = 'flex';
            authButtons.style.display = 'none';
            
            // Masquer le message de bienvenue
            welcomeMessage.style.display = 'none';
            loginRequired.style.display = 'none';
            
            // Activer les filtres et la recherche
            searchInput.disabled = false;
            searchInput.placeholder = 'Rechercher un fichier...';
            filiereFilter.disabled = false;
            yearFilter.disabled = false;
            semestreFilter.disabled = false;
            
            // Mettre à jour les infos utilisateur
            if (currentUser && currentUser.profile) {
                const profile = currentUser.profile;
                const firstName = profile.prenom || '';
                const lastName = profile.nom || '';
                const displayName = `${firstName} ${lastName}`.trim() || 'Utilisateur';
                
                userName.textContent = displayName;
                userAvatar.textContent = (firstName[0] || lastName[0] || 'U').toUpperCase();
            }
            
            // Mettre à jour les statistiques
            updateUserStats();
        }

        function updateUIForGuest() {
            // Afficher les boutons d'authentification
            userProfile.style.display = 'none';
            authButtons.style.display = 'flex';
            
            // Afficher le message de bienvenue
            welcomeMessage.style.display = 'flex';
            loginRequired.style.display = 'block';
            
            // Désactiver les filtres et la recherche
            searchInput.disabled = true;
            filiereFilter.disabled = true;
            yearFilter.disabled = true;
            semestreFilter.disabled = true;
            
            // Masquer le contenu des fichiers
            if (filesContent) filesContent.style.display = 'none';
            if (loading) loading.style.display = 'none';
            if (error) error.style.display = 'none';
            if (emptyState) emptyState.style.display = 'none';
            
            // Réinitialiser les fichiers
            filesData = [];
            filteredFiles = [];
            if (filesGrid) filesGrid.innerHTML = '';
        }

        // =============================================
        // FONCTIONS UTILITAIRES
        // =============================================

        function isValidEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function showError(message) {
            // Créer une notification toast
            const toast = document.createElement('div');
            toast.className = 'toast toast-error';
            toast.innerHTML = `
                <i class="fas fa-exclamation-circle"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(toast);
            
            // Supprimer après 5 secondes
            setTimeout(() => {
                toast.remove();
            }, 5000);
        }

        function showSuccess(message) {
            // Créer une notification toast
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(toast);
            
            // Supprimer après 5 secondes
            setTimeout(() => {
                toast.remove();
            }, 5000);
        }

        function resetRegistrationForm() {
            // Réinitialiser tous les champs du formulaire
            if (registerNom) registerNom.value = '';
            if (registerPrenom) registerPrenom.value = '';
            if (registerEmail) registerEmail.value = '';
            if (registerPhone) registerPhone.value = '';
            if (registerBirthdate) registerBirthdate.value = '';
            if (registerGender) registerGender.value = '';
            if (registerFiliere) registerFiliere.value = '';
            if (registerNiveau) registerNiveau.value = '';
            if (registerEtablissement) registerEtablissement.value = '';
            if (registerVille) registerVille.value = '';
            if (registerObjectif) registerObjectif.value = '';
            if (registerMatieres) registerMatieres.value = '';
            if (registerPassword) registerPassword.value = '';
            if (registerConfirmPassword) registerConfirmPassword.value = '';
            if (registerNewsletter) registerNewsletter.checked = true;
            if (registerTerms) registerTerms.checked = false;
            if (registerInviteCode) registerInviteCode.value = '';
            if (registerConfirm) registerConfirm.checked = false;
            
            // Réinitialiser les données d'inscription
            registrationData = {
                step1: {},
                step2: {},
                step3: {}
            };
            
            // Retourner au formulaire de connexion
            showForm('login');
        }

        function toggleUserMenu() {
            userMenu.classList.toggle('active');
        }

        function viewUserProfile() {
            showInfo('Cette fonctionnalité sera disponible prochainement.');
            userMenu.classList.remove('active');
        }

        function viewMyDownloads() {
            showInfo('Cette fonctionnalité sera disponible prochainement.');
            userMenu.classList.remove('active');
        }

        function showInfo(message) {
            // Créer une notification toast
            const toast = document.createElement('div');
            toast.className = 'toast toast-info';
            toast.innerHTML = `
                <i class="fas fa-info-circle"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(toast);
            
            // Supprimer après 5 secondes
            setTimeout(() => {
                toast.remove();
            }, 5000);
        }

        function formatFiliere(filiere) {
            const filieres = {
                'informatique': 'Informatique',
                'gestion': 'Gestion',
                'college': 'Collège (Secondaire)',
                'autre': 'Autre'
            };
            return filieres[filiere] || filiere;
        }

        function formatNiveau(niveau) {
            const niveaux = {
                'annee1': 'Année 1 (Licence 1)',
                'annee2': 'Année 2 (Licence 2)',
                'annee3': 'Année 3 (Licence 3)',
                'master1': 'Master 1',
                'master2': 'Master 2',
                'sixieme': '6ème',
                'cinquieme': '5ème',
                'quatrieme': '4ème',
                'troisieme': '3ème',
                'seconde': 'Seconde',
                'premiere': 'Première',
                'terminale': 'Terminale'
            };
            return niveaux[niveau] || niveau;
        }

        // =============================================
        // GESTION DE L'APPLICATION
        // =============================================

        function setupAppEventListeners() {
            // Navigation
            setupNavigation();
            
            // Introduction
            setupIntroduction();
            
            // Articles
            setupArticles();
            
            // Filtres
            setupFilters();
            
            // Contact form
            setupContactForm();
            
            // Menu burger
            setupBurgerMenu();
            
            // Pagination
            setupPagination();
        }

        function setupNavigation() {
            // Navigation principale
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    switchPage(page);
                    setActiveNavLink(this);
                    
                    // Fermer le menu burger sur mobile
                    if (window.innerWidth <= 768) {
                        closeBurgerMenu();
                    }
                });
            });

            // Logo navigation
            if (logo) {
                logo.addEventListener('click', function(e) {
                    e.preventDefault();
                    switchPage('home');
                    setActiveNavLink(document.querySelector('[data-page="home"]'));
                    
                    // Fermer le menu burger sur mobile
                    if (window.innerWidth <= 768) {
                        closeBurgerMenu();
                    }
                });
            }

            // Footer navigation
            document.querySelectorAll('footer .nav-link, .legal-links .nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    switchPage(page);
                    const mainNavLink = document.querySelector(`nav [data-page="${page}"]`);
                    if (mainNavLink) setActiveNavLink(mainNavLink);
                });
            });
        }

        function setupIntroduction() {
            // Section introduction
            if (introCollapsed && introToggle) {
                introCollapsed.addEventListener('click', function() {
                    introCollapsed.style.display = 'none';
                    introExpanded.style.display = 'block';
                });
            }

            if (introClose) {
                introClose.addEventListener('click', function(e) {
                    e.stopPropagation();
                    introExpanded.style.display = 'none';
                    introCollapsed.style.display = 'block';
                });
            }
        }

        function setupArticles() {
            // Articles - lire la suite
            document.querySelectorAll('.read-more').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const article = this.getAttribute('data-article');
                    switchPage(article);
                    setActiveNavLink(document.querySelector('[data-page="articles"]'));
                    
                    // Fermer le menu burger sur mobile
                    if (window.innerWidth <= 768) {
                        closeBurgerMenu();
                    }
                });
            });

            // Retour aux articles
            document.querySelectorAll('.back-to-articles').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    switchPage('articles');
                    setActiveNavLink(document.querySelector('[data-page="articles"]'));
                    
                    // Fermer le menu burger sur mobile
                    if (window.innerWidth <= 768) {
                        closeBurgerMenu();
                    }
                });
            });
        }

        function setupFilters() {
            // Recherche et filtres
            if (searchInput) searchInput.addEventListener('input', filterFiles);
            if (filiereFilter) filiereFilter.addEventListener('change', filterFiles);
            if (yearFilter) yearFilter.addEventListener('change', filterFiles);
            if (semestreFilter) semestreFilter.addEventListener('change', filterFiles);

            // Boutons de rechargement
            if (retryBtn) retryBtn.addEventListener('click', loadFiles);
            if (booksRetryBtn) booksRetryBtn.addEventListener('click', loadBooks);
        }

        function setupContactForm() {
            if (contactForm) {
                contactForm.addEventListener('submit', handleContactForm);
            }
        }

        function setupBurgerMenu() {
            if (menuToggle) {
                menuToggle.addEventListener('click', toggleBurgerMenu);
            }
            
            if (menuOverlay) {
                menuOverlay.addEventListener('click', closeBurgerMenu);
            }
            
            // Fermer le menu en cliquant sur un lien
            document.querySelectorAll('#mainNav a').forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth <= 768) {
                        closeBurgerMenu();
                    }
                });
            });
            
            // Fermer le menu en appuyant sur Echap
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && mainNav.classList.contains('active')) {
                    closeBurgerMenu();
                }
            });
        }

        function setupPagination() {
            // Boutons de pagination
            if (firstPageBtn) firstPageBtn.addEventListener('click', () => goToPage(1));
            if (prevPageBtn) prevPageBtn.addEventListener('click', () => goToPage(currentPage - 1));
            if (nextPageBtn) nextPageBtn.addEventListener('click', () => goToPage(currentPage + 1));
            if (lastPageBtn) lastPageBtn.addEventListener('click', () => {
                const totalPages = Math.ceil(filteredFiles.length / itemsPerPage);
                goToPage(totalPages);
            });
        }

        function toggleBurgerMenu() {
            if (mainNav.classList.contains('active')) {
                closeBurgerMenu();
            } else {
                openBurgerMenu();
            }
        }

        function openBurgerMenu() {
            mainNav.classList.add('active');
            menuOverlay.classList.add('active');
            menuToggle.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeBurgerMenu() {
            mainNav.classList.remove('active');
            menuOverlay.classList.remove('active');
            menuToggle.classList.remove('active');
            document.body.style.overflow = '';
        }

        function switchPage(page) {
            pageSections.forEach(section => {
                section.classList.remove('active');
            });
            
            const pageId = PAGES_CONFIG[page];
            if (pageId && document.getElementById(pageId)) {
                document.getElementById(pageId).classList.add('active');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function setActiveNavLink(activeLink) {
            navLinks.forEach(link => link.classList.remove('active'));
            activeLink.classList.add('active');
        }

        // =============================================
        // GESTION DES FICHIERS
        // =============================================

        async function loadFiles() {
            // Ne charger les fichiers que si l'utilisateur est connecté
            if (!currentUser) {
                updateUIForGuest();
                return;
            }
            
            try {
                showLoading();
                await fetchDriveFiles();
                filterFiles();
                updateFileStats();

                if (filesData.length === 0) {
                    showEmptyState();
                } else {
                    showContent();
                }
            } catch (error) {
                console.error('Erreur lors du chargement des fichiers:', error);
                showFileError();
            }
        }

        async function fetchDriveFiles() {
            filesData = [];
            let totalFiles = 0;

            for (const [filiere, years] of Object.entries(DRIVE_CONFIG.folders)) {
                for (const [year, semestres] of Object.entries(years)) {
                    for (const [semestre, folderId] of Object.entries(semestres)) {
                        if (folderId && !folderId.includes('COLLEZ_ID')) {
                            try {
                                const files = await fetchFolderFiles(folderId, filiere, year, semestre);
                                filesData.push(...files);
                                totalFiles += files.length;
                            } catch (error) {
                                console.warn(`Dossier ${filiere}-${year}-${semestre}:`, error.message);
                            }
                        }
                    }
                }
            }

            console.log(`📁 ${totalFiles} fichiers chargés depuis Google Drive`);
        }

        async function fetchFolderFiles(folderId, filiere, year, semestre) {
            const response = await fetch(
                `https://www.googleapis.com/drive/v3/files?q='${folderId}' in parents and trashed=false&key=${DRIVE_CONFIG.apiKey}&fields=files(id,name,mimeType,webViewLink,createdTime,modifiedTime,webContentLink)`
            );

            if (!response.ok) throw new Error(`HTTP ${response.status}`);

            const data = await response.json();
            
            if (!data.files || data.files.length === 0) return [];

            return data.files.map(file => ({
                id: file.id,
                name: file.name,
                filiere: filiere,
                year: year,
                semestre: semestre,
                type: getFileType(file.mimeType),
                createdTime: file.createdTime,
                webViewLink: file.webViewLink,
                downloadLink: file.webContentLink || `https://drive.google.com/uc?export=download&id=${file.id}`,
                iconLink: getFileIcon(getFileType(file.mimeType)),
                isNew: isFileNew(file.createdTime)
            }));
        }

        function filterFiles() {
            if (!currentUser) return;
            
            const searchTerm = searchInput.value.toLowerCase();
            const selectedFiliere = filiereFilter.value;
            const selectedYear = yearFilter.value;
            const selectedSemestre = semestreFilter.value;

            filteredFiles = filesData.filter(file => {
                const matchesSearch = file.name.toLowerCase().includes(searchTerm);
                const matchesFiliere = !selectedFiliere || file.filiere === selectedFiliere;
                const matchesYear = !selectedYear || file.year === selectedYear;
                const matchesSemestre = !selectedSemestre || file.semestre === selectedSemestre;

                return matchesSearch && matchesFiliere && matchesYear && matchesSemestre;
            });

            currentPage = 1;
            displayFiles();
        }

        function displayFiles() {
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const filesToDisplay = filteredFiles.slice(startIndex, endIndex);
            
            displayFilesAsGrid(filesToDisplay);
            updatePagination();
        }

        function displayFilesAsGrid(files) {
            if (!filesGrid) return;
            
            filesGrid.innerHTML = '';

            if (files.length === 0) {
                filesGrid.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem 1rem;">
                        <i class="fas fa-search" style="font-size: 2.5rem; margin-bottom: 1rem; color: var(--accent3);"></i>
                        <h3 style="color: var(--dark); margin-bottom: 0.5rem;">Aucun fichier trouvé</h3>
                        <p style="color: var(--dark2);">Essayez de modifier vos critères de recherche</p>
                    </div>
                `;
                return;
            }

            files.forEach(file => {
                const fileCard = document.createElement('div');
                fileCard.className = 'file-card';
                if (file.isNew) fileCard.classList.add('new-file');

                const createdDate = new Date(file.createdTime);
                const formattedDate = createdDate.toLocaleDateString('fr-FR', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric'
                });

                fileCard.innerHTML = `
                    <div class="file-header">
                        <i class="${file.iconLink}"></i>
                    </div>
                    <div class="file-content">
                        <h3>${file.name}</h3>
                        <div class="file-meta">
                            <span><i class="fas fa-graduation-cap"></i> ${formatFiliereForDisplay(file.filiere)}</span>
                            <span><i class="fas fa-calendar-alt"></i> ${formatYearForDisplay(file.year)}</span>
                            <span><i class="fas fa-book"></i> ${formatSemestreForDisplay(file.semestre)}</span>
                        </div>
                        <span class="file-type">${file.type}</span>
                        <div class="file-date">
                            <i class="far fa-calendar"></i> Ajouté le ${formattedDate}
                        </div>
                        <div class="file-actions">
                            <button class="btn btn-primary" onclick="downloadFile('${file.id}', '${file.name.replace(/'/g, "\\'")}')">
                                <i class="fas fa-download"></i> Télécharger
                            </button>
                        </div>
                    </div>
                `;
                filesGrid.appendChild(fileCard);
            });
        }

        // PAGINATION
        function updatePagination() {
            if (!paginationElement) return;
            
            const totalPages = Math.ceil(filteredFiles.length / itemsPerPage);
            
            if (totalPages > 1) {
                paginationElement.style.display = 'flex';
            } else {
                paginationElement.style.display = 'none';
            }
            
            if (pageInfo) pageInfo.textContent = `Page ${currentPage} sur ${totalPages}`;
            
            if (firstPageBtn) firstPageBtn.disabled = currentPage === 1;
            if (prevPageBtn) prevPageBtn.disabled = currentPage === 1;
            if (nextPageBtn) nextPageBtn.disabled = currentPage === totalPages;
            if (lastPageBtn) lastPageBtn.disabled = currentPage === totalPages;
            
            if (firstPageBtn) firstPageBtn.classList.toggle('disabled', currentPage === 1);
            if (prevPageBtn) prevPageBtn.classList.toggle('disabled', currentPage === 1);
            if (nextPageBtn) nextPageBtn.classList.toggle('disabled', currentPage === totalPages);
            if (lastPageBtn) lastPageBtn.classList.toggle('disabled', currentPage === totalPages);
        }

        function goToPage(page) {
            const totalPages = Math.ceil(filteredFiles.length / itemsPerPage);
            
            if (page < 1) page = 1;
            if (page > totalPages) page = totalPages;
            
            currentPage = page;
            displayFiles();
            
            if (filesGrid) {
                filesGrid.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // STATISTIQUES DES FICHIERS
        function updateFileStats() {
            if (totalFilesElement) totalFilesElement.textContent = filesData.length;
            const uniqueFilieres = new Set(filesData.map(file => file.filiere));
            if (totalFilieresElement) totalFilieresElement.textContent = uniqueFilieres.size;
        }

        // =============================================
        // TÉLÉCHARGEMENT DES FICHIERS
        // =============================================

        async function downloadFile(fileId, fileName) {
            // Vérifier que l'utilisateur est connecté
            if (!currentUser) {
                showError('Veuillez vous connecter pour télécharger des fichiers');
                openAuthModal();
                return;
            }
            
            try {
                console.log(`📥 Téléchargement en cours: ${fileName}`);
                
                // Afficher l'indicateur de chargement
                showDownloadLoading(fileName);
                
                // Télécharger le fichier
                await handleFileDownload(fileId, fileName);
                
                // Masquer l'indicateur de chargement
                hideDownloadLoading();
                
                // Afficher un message de succès
                showSuccess('Téléchargement réussi !');
                
            } catch (error) {
                console.error('❌ Erreur lors du téléchargement:', error);
                hideDownloadLoading();
                showError('Erreur lors du téléchargement');
            }
        }

        async function handleFileDownload(fileId, fileName) {
            try {
                const directDownloadUrl = `https://www.googleapis.com/drive/v3/files/${fileId}?alt=media&key=${DRIVE_CONFIG.apiKey}`;
                
                const response = await fetch(directDownloadUrl, {
                    method: 'GET',
                    headers: {
                        'Accept': '*/*'
                    }
                });
                
                if (response.ok) {
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = fileName;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    
                    window.URL.revokeObjectURL(url);
                    
                    console.log(`✅ Téléchargement direct réussi: ${fileName}`);
                    return true;
                    
                } else {
                    console.log('🔄 Méthode directe échouée, utilisation de Google Drive');
                    fallbackDownload(fileId, fileName);
                    return true;
                }
                
            } catch (error) {
                console.error('❌ Erreur de téléchargement:', error);
                fallbackDownload(fileId, fileName);
                return true;
            }
        }

        function fallbackDownload(fileId, fileName) {
            const driveUrl = `https://drive.google.com/uc?export=download&id=${fileId}`;
            
            const newWindow = window.open(driveUrl, '_blank');
            
            if (!newWindow) {
                const link = document.createElement('a');
                link.href = driveUrl;
                link.target = '_blank';
                link.rel = 'noopener noreferrer';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
        }

        function showDownloadLoading(fileName) {
            const loadingOverlay = document.createElement('div');
            loadingOverlay.id = 'download-loading';
            loadingOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.7);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
                color: white;
                font-size: 1rem;
                flex-direction: column;
                padding: 20px;
            `;
            
            loadingOverlay.innerHTML = `
                <div style="text-align: center; max-width: 300px;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2.5rem; margin-bottom: 1rem; color: var(--accent);"></i>
                    <p>Téléchargement en cours...</p>
                    <p style="word-break: break-word;"><strong>${fileName}</strong></p>
                    <p style="font-size: 0.85rem; margin-top: 1rem; opacity: 0.8;">Veuillez patienter</p>
                </div>
            `;
            
            document.body.appendChild(loadingOverlay);
        }

        function hideDownloadLoading() {
            const loadingOverlay = document.getElementById('download-loading');
            if (loadingOverlay) {
                loadingOverlay.remove();
            }
        }

        // =============================================
        // GESTION DES ÉTATS D'AFFICHAGE
        // =============================================

        function showLoading() {
            if (loading) loading.style.display = 'block';
            if (error) error.style.display = 'none';
            if (emptyState) emptyState.style.display = 'none';
            if (filesContent) filesContent.style.display = 'none';
        }

        function showFileError() {
            if (loading) loading.style.display = 'none';
            if (error) error.style.display = 'block';
            if (emptyState) emptyState.style.display = 'none';
            if (filesContent) filesContent.style.display = 'none';
        }

        function showEmptyState() {
            if (loading) loading.style.display = 'none';
            if (error) error.style.display = 'none';
            if (emptyState) emptyState.style.display = 'block';
            if (filesContent) filesContent.style.display = 'none';
        }

        function showContent() {
            if (loading) loading.style.display = 'none';
            if (error) error.style.display = 'none';
            if (emptyState) emptyState.style.display = 'none';
            if (filesContent) filesContent.style.display = 'block';
        }

        // =============================================
        // LIBRAIRIE
        // =============================================

        async function loadBooks() {
            try {
                showBooksLoading();
                await fetchBooks();
                displayBooks();

                if (booksData.length === 0) {
                    showBooksEmptyState();
                } else {
                    showBooksContent();
                }
            } catch (error) {
                console.error('Erreur lors du chargement des livres:', error);
                showBooksError();
            }
        }

        async function fetchBooks() {
            booksData = [];

            try {
                const response = await fetch(
                    `https://www.googleapis.com/drive/v3/files?q='${LIBRAIRIE_CONFIG.folderId}' in parents and trashed=false&key=${LIBRAIRIE_CONFIG.apiKey}&fields=files(id,name,mimeType,webViewLink,createdTime,modifiedTime,thumbnailLink)`
                );

                if (!response.ok) throw new Error(`HTTP ${response.status}`);

                const data = await response.json();

                if (data.files && data.files.length > 0) {
                    data.files.forEach(file => {
                        const parts = file.name.split(' - ');
                        const imageUrl = `https://drive.google.com/thumbnail?id=${file.id}&sz=w400`;
                        
                        booksData.push({
                            id: file.id,
                            title: parts[0] || file.name,
                            author: parts[1] || 'Auteur inconnu',
                            category: parts[2] || 'Général',
                            price: parts[3] ? parts[3].replace('.jpg', '').replace('.png', '').replace('.jpeg', '') : 'Prix sur demande',
                            imageUrl: imageUrl,
                            createdTime: file.createdTime,
                            isNew: isFileNew(file.createdTime)
                        });
                    });
                }

                console.log(`📚 ${booksData.length} livres chargés`);
            } catch (error) {
                console.error('Erreur lors du chargement des livres:', error);
                throw error;
            }
        }

        function displayBooks() {
            if (!booksGrid) return;
            
            booksGrid.innerHTML = '';

            booksData.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                if (book.isNew) bookCard.classList.add('new-file');

                bookCard.innerHTML = `
                    <div class="book-image">
                        <img src="${book.imageUrl}" alt="${book.title}" loading="lazy" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkNvdmVydHVyZSBub24gZGlzcG9uaWJsZTwvdGV4dD48L3N2Zz4='">
                    </div>
                    <div class="book-content">
                        <h3>${book.title}</h3>
                        <div class="book-meta">
                            <span><i class="fas fa-user"></i> ${book.author}</span>
                            <span><i class="fas fa-tag"></i> ${book.category}</span>
                        </div>
                        <p>Livre en excellent état, idéal pour les étudiants.</p>
                        <div class="book-price">${book.price}</div>
                        <div class="book-actions">
                            <a href="https://wa.me/22941733286?text=Bonjour%20!%20Je%20suis%20intéressé%20par%20le%20livre%20'${encodeURIComponent(book.title)}'." 
                               class="btn btn-whatsapp" target="_blank">
                                <i class="fab fa-whatsapp"></i> Contacter
                            </a>
                        </div>
                    </div>
                `;
                booksGrid.appendChild(bookCard);
            });
        }

        function showBooksLoading() {
            if (booksLoading) booksLoading.style.display = 'block';
            if (booksError) booksError.style.display = 'none';
            if (booksEmptyState) booksEmptyState.style.display = 'none';
            if (booksGrid) booksGrid.style.display = 'none';
        }

        function showBooksError() {
            if (booksLoading) booksLoading.style.display = 'none';
            if (booksError) booksError.style.display = 'block';
            if (booksEmptyState) booksEmptyState.style.display = 'none';
            if (booksGrid) booksGrid.style.display = 'none';
        }

        function showBooksEmptyState() {
            if (booksLoading) booksLoading.style.display = 'none';
            if (booksError) booksError.style.display = 'none';
            if (booksEmptyState) booksEmptyState.style.display = 'block';
            if (booksGrid) booksGrid.style.display = 'none';
        }

        function showBooksContent() {
            if (booksLoading) booksLoading.style.display = 'none';
            if (booksError) booksError.style.display = 'none';
            if (booksEmptyState) booksEmptyState.style.display = 'none';
            if (booksGrid) booksGrid.style.display = 'grid';
        }

        // =============================================
        // FORMULAIRE DE CONTACT
        // =============================================

        function handleContactForm(e) {
            e.preventDefault();
            
            const submitBtn = e.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi en cours...';
            submitBtn.disabled = true;
            
            if (contactAlert) contactAlert.style.display = 'none';
            if (contactError) contactError.style.display = 'none';
            
            const form = e.target;
            const formData = new FormData(form);
            
            fetch(form.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    if (contactAlert) contactAlert.style.display = 'block';
                    form.reset();
                } else {
                    throw new Error('Erreur lors de l\'envoi');
                }
            })
            .catch(error => {
                console.error('Erreur:', error);
                if (contactError) contactError.style.display = 'block';
            })
            .finally(() => {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            });
        }

        // =============================================
        // FONCTIONS UTILITAIRES POUR LES FICHIERS
        // =============================================

        function getFileType(mimeType) {
            const typeMap = {
                'application/pdf': 'PDF',
                'application/vnd.google-apps.document': 'DOCX',
                'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'DOCX',
                'application/zip': 'ZIP',
                'application/vnd.google-apps.spreadsheet': 'XLSX'
            };
            return typeMap[mimeType] || 'FICHIER';
        }

        function getFileIcon(fileType) {
            switch (fileType) {
                case 'PDF': return 'fas fa-file-pdf';
                case 'DOCX': return 'fas fa-file-word';
                case 'ZIP': return 'fas fa-file-archive';
                default: return 'fas fa-file';
            }
        }

        function isFileNew(createdTime) {
            if (!createdTime) return false;
            const createdDate = new Date(createdTime);
            const now = new Date();
            const diffTime = Math.abs(now - createdDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays <= 1;
        }

        function formatFiliereForDisplay(filiere) {
            const filiereNames = {
                'informatique': 'Informatique',
                'gestion': 'Gestion',
                'college': 'Collège'
            };
            return filiereNames[filiere] || filiere;
        }

        function formatYearForDisplay(year) {
            const yearNames = {
                'annee1': 'Année 1',
                'annee2': 'Année 2',
                'annee3': 'Année 3',
                'sixieme': '6ème',
                'cinquieme': '5ème',
                'quatrieme': '4ème',
                'troisieme': '3ème',
                'seconde': 'Seconde',
                'premiere': 'Première',
                'terminale': 'Terminale'
            };
            return yearNames[year] || year;
        }

        function formatSemestreForDisplay(semestre) {
            const semestreNames = {
                'semestre1': 'Semestre 1',
                'semestre2': 'Semestre 2'
            };
            return semestreNames[semestre] || semestre;
        }

        // =============================================
        // EXPORT DES FONCTIONS GLOBALES
        // =============================================

        window.downloadFile = downloadFile;

        console.log("✅ Système d'authentification PrimeAcademia chargé avec succès");
    </script>
</body>
</html>

